{"version":3,"sources":["webpack:///./js/index.js","webpack:///./style/css/_root.scss","webpack:///./js/home.js","webpack:///./js/product.js","webpack:///./js/helper/image.js","webpack:///./js/helper/form.js","webpack:///./js/basket.js","webpack:///./js/cart.js","webpack:///./js/ordering.js","webpack:///./js/header-nav.js","webpack:///./js/header-search.js","webpack:///./js/my-lib/search.js","webpack:///./js/my-lib/screen.js","webpack:///./js/category.js","webpack:///./js/component/product-preview.js","webpack:///./js/authorization.js","webpack:///../node_modules/classnames/index.js","webpack:///./js/search-page.js"],"names":["require","window","app","FastClick","$","homeScripts","productScripts","authorizationScripts","basketScripts","cartScripts","orderingScripts","headerScripts","headerSearchScripts","searchPageScripts","categoryPageScripts","document","body","initHeaderNav","initHeaderSearch","initSwiper","initCategories","productReview","initBreadCrumbs","initSwiperZoom","initAddToBasketForm","initAuthorizationForm","initBasket","initCartTable","initOrderForm","initPage","Swiper","ProductPreview","module","exports","cssInitialClass","removeClass","onSwiperResize","swiper","slideHeight","slideWidth","width","documentElement","clientWidth","neededHeight","Math","min","round","neededHeightPx","wrapper","container","slides","nodes","concat","forEach","Object","assign","node","style","height","homeSwiper","pagination","paginationClickable","centeredSlides","autoplay","autoplayDisableOnInteraction","loop","onInit","onAfterResize","console","log","on","evt","preventDefault","React","Component","ReactDOM","Categories","view","categoryTree","state","JSON","parse","stringify","categories","map","category","ii","Category","products","props","fetch","join","then","data","json","setState","getProducts","name","displayName","visibleCategoryName","product","slug","querySelector","render","loadImages","productSwiperImages","productSwiperWrapper","length","addClass","Array","prototype","slice","call","src","maxHeightImage","images","sort","image0","image1","size","productSwiper","keyboardControl","win","fullPageClassName","onWindowResize","hasClass","toggleClass","dispatchEvent","Event","form","basket","change","Number","find","val","snackbar","content","timeout","hasCategoryTheProduct","productId","indexOf","findProductPath","passList","callBack","watcher","currentPassList","push","hasResult","shift","some","subCategory","getCategoriesPath","resultObject","result","categoriesPass","_id","error","categoryHtml","replace","productHtml","innerHTML","loadImage","Promise","resolve","reject","image","Image","onLoad","onload","onerror","onError","imageSrcList","all","checkInput","input","value","hasAttribute","pattern","getAttribute","regExp","RegExp","test","checkForm","inputs","every","Basket","counter","postfix","empty","numberToMoney","CartTable","items","getItems","newCount","set","backgroundImage","article","count","onInputNumberBlur","onInputChange","parseInt","currentTarget","price","getFullPrice","history","back","showError","createOrder","serializedForm","serializeToJSON","basketItems","ajax","type","url","success","hasOwnProperty","updateUserData","serialize","orderingForm","clear","location","href","catch","narrowWidth","TabContent","HeaderNav","activeCategorySlug","isNarrow","nextProps","nextState","nextIsNarrow","closeTabs","classList","remove","add","bindEvents","onResize","addEventListener","newSlug","activeCategory","category1","category2","order","switchTab","narrowRender","openTab","classnames","normalizeString","SearchPage","HeaderSearch","query","isInProgress","hasFocus","description","__html","searchInput","refs","searchIconClassName","onFormSubmit","onSearchInput","setTimeout","renderList","emptyQuery","promiseCache","search","rawResult","sortProduct","product1","product2","delta","scrollMethods","docElem","scrollTop","saveScrollTop","restoreScrollTop","hasCategoryTheCategory","findCategoryPath","categorySlug","promotable","getUrlQuery","id","redirect","referrer","origin","click","decodeURI","searchResult","focus"],"mappings":"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","file":"main.js","sourcesContent":["/* global document */\n\n// polyfill\nrequire('./lib/polyfill/es5-shim');\nrequire('./lib/polyfill/es5-sham');\nrequire('./lib/polyfill/json3');\nrequire('./lib/polyfill/es6-shim');\nrequire('./lib/polyfill/es6-sham.min');\nrequire('./lib/polyfill/es7-shim');\n\nrequire('./../style/css/_root.scss');\n\nwindow.app = window.app || {};\n\nconst FastClick = require('fastclick');\nconst $ = require('jquery');\n\nconst homeScripts = require('./home');\nconst productScripts = require('./product');\nconst authorizationScripts = require('./authorization');\nconst basketScripts = require('./basket');\nconst cartScripts = require('./cart');\nconst orderingScripts = require('./ordering');\n// const orderScripts = require('./order');\nconst headerScripts = require('./header-nav');\nconst headerSearchScripts = require('./header-search');\nconst searchPageScripts = require('./search-page');\nconst categoryPageScripts = require('./category');\n\n$(() => {\n    // main part\n    new FastClick(document.body); // eslint-disable-line no-new\n\n    // main scripts\n    headerScripts.initHeaderNav();\n\n    // search\n    headerSearchScripts.initHeaderSearch();\n\n    // home\n    homeScripts.initSwiper();\n    homeScripts.initCategories();\n    // homeScripts.initPagination();\n    homeScripts.productReview();\n\n    // product\n    productScripts.initSwiper();\n    productScripts.initBreadCrumbs();\n    productScripts.initSwiperZoom();\n    productScripts.initAddToBasketForm();\n\n    // authorization\n    authorizationScripts.initAuthorizationForm();\n\n    // basket\n    basketScripts.initBasket();\n\n    // cart\n    cartScripts.initCartTable();\n\n    // ordering\n    orderingScripts.initOrderForm();\n\n    // order\n    // orderScripts.initOrderTable();\n    // orderScripts.initPdfOrder();\n\n    // categories\n    categoryPageScripts.initBreadCrumbs();\n\n    // search\n    searchPageScripts.initPage();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./js/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./style/css/_root.scss\n// module id = 176\n// module chunks = 0","/* global document, fetch */\nconst Swiper = require('./lib/idangerous.swiper');\nconst $ = require('jquery');\nconst {ProductPreview} = require('./component/product-preview');\n\nmodule.exports.initSwiper = () => {\n    const cssInitialClass = 'home-swiper-wrapper--wait-for-init';\n\n    $('.' + cssInitialClass).removeClass(cssInitialClass);\n\n    function onSwiperResize(swiper) {\n        // count height\n        // const slideHeight = 261;\n        // const slideWidth = 980;\n        const slideHeight = 325;\n        const slideWidth = 1220;\n        const width = document.documentElement.clientWidth;\n        const neededHeight = Math.min(Math.round(slideHeight * width / slideWidth), slideHeight);\n        const neededHeightPx = neededHeight + 'px';\n\n        // get nodes\n        const {wrapper, container, slides} = swiper;\n        const nodes = [wrapper, container].concat(slides);\n\n        nodes.forEach(node => Object.assign(node.style, {height: neededHeightPx}));\n    }\n\n    const homeSwiper = new Swiper('.js-home-swiper-wrapper', {\n        pagination: '.swiper-pagination',\n        // nextButton: '.swiper-button-next',\n        // prevButton: '.swiper-button-prev',\n        paginationClickable: true,\n        // spaceBetween: 30,\n        centeredSlides: true,\n        autoplay: 6000,\n        autoplayDisableOnInteraction: false,\n        loop: true,\n        onInit: onSwiperResize,\n        onAfterResize: onSwiperResize\n    });\n\n    console.log('home swiper is here ->', homeSwiper);\n};\n\n/*\nmodule.exports.initPagination = () => {\n    const {indexPagination} = window.app;\n\n    if (!indexPagination) {\n        console.log('no app.indexPagination');\n        return;\n    }\n\n    const {totalPages, startPage} = indexPagination;\n    const {location} = window;\n\n    const paginationWrapper = $('.js-index-pagination');\n\n    if (totalPages === 1) {\n        paginationWrapper.remove();\n        return;\n    }\n\n    paginationWrapper.twbsPagination({\n        totalPages,\n        startPage,\n\n        initiateStartPageClick: false,\n        visiblePages: 5,\n\n        prev: '&#8672;',\n        next: '&#8674;',\n\n        first: '&#8676;',\n        last: '&#8677;',\n\n        onPageClick: (evt, page) => Object.assign(location, {search: 'page=' + page})\n    });\n};\n*/\n\nmodule.exports.productReview = () => {\n    $('.js-product-preview').on('contextmenu', evt => evt.preventDefault());\n};\n\n\nconst React = require('react');\nconst {Component} = React;\nconst ReactDOM = require('react-dom');\n\nclass Categories extends Component {\n    constructor() {\n        super();\n\n        const view = this;\n        const {app} = window;\n        const {categoryTree} = app;\n\n        view.state = {\n            categoryTree: JSON.parse(JSON.stringify(categoryTree))\n        };\n    }\n\n    render() {\n        const view = this;\n        const {state} = view;\n        const {categoryTree} = state;\n        const {categories} = categoryTree;\n\n        return <div>\n            {categories.map((category, ii) => <Category key={ii} category={category}/>)}\n        </div>;\n    }\n}\n\nclass Category extends Component {\n    constructor() {\n        super();\n\n        const view = this;\n\n        view.state = {\n            products: []\n        };\n    }\n\n    getProducts() {\n        const view = this;\n        const {props} = view;\n        const {category} = props;\n\n        fetch('/api/get-products-by-ids/' + category.products.join(';'))\n            .then(data => data.json())\n            .then(({products}) => view.setState({products}, () => console.log('TODO: ADD SWIPE HERE')));\n    }\n\n    componentDidMount() {\n        const view = this;\n\n        view.getProducts();\n    }\n\n    render() {\n        const view = this;\n        const {props, state} = view;\n        const {products} = state;\n        const {category} = props;\n        const {name, displayName} = category;\n        const visibleCategoryName = displayName || name;\n\n        return <div>\n            <h3>{visibleCategoryName}</h3>\n            {products.map(product => <ProductPreview key={product.slug} product={product}/>)}\n        </div>;\n    }\n}\n\nmodule.exports.initCategories = () => {\n    const wrapper = document.querySelector('.js-category-list-wrapper');\n    const {categoryTree} = window.app;\n\n    if (!wrapper || !categoryTree) {\n        return;\n    }\n\n    ReactDOM.render(\n        <Categories/>,\n        wrapper\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/home.js","/* global document, Event */\nconst Swiper = require('./lib/idangerous.swiper');\nconst $ = require('jquery');\n\nconst {loadImages} = require('./helper/image');\n\nmodule.exports.initSwiper = () => {\n    const productSwiperImages = $('.js-product-swiper-img');\n    const productSwiperWrapper = $('.js-product-swiper-wrapper');\n\n    if (productSwiperImages.length <= 1) {\n        productSwiperWrapper.addClass('product-swiper-wrapper--one-image');\n        console.log('no product swiper, here is one image');\n        return;\n    }\n\n    loadImages(Array.prototype.slice.call(productSwiperImages).map(({src}) => src)) // eslint-disable-line prefer-reflect\n        .then(images => {\n            const maxHeightImage = images.sort((image0, image1) => image1.height - image0.height)[0];\n\n            function onSwiperResize(swiper) {\n                const {wrapper, container, slides} = swiper;\n                const size = Math.min(maxHeightImage.height, container.clientWidth) + 'px';\n                const nodes = [wrapper, container].concat(slides);\n\n                nodes.forEach(node => Object.assign(node.style, {height: size}));\n            }\n\n            const productSwiper = new Swiper(productSwiperWrapper[0], {\n                pagination: '.swiper-pagination',\n                // nextButton: '.swiper-button-next',\n                // prevButton: '.swiper-button-prev',\n                paginationClickable: true,\n                // spaceBetween: 30,\n                centeredSlides: true,\n                autoplay: 6000,\n                autoplayDisableOnInteraction: false,\n                loop: true,\n                keyboardControl: true,\n                onInit: onSwiperResize,\n                onAfterResize: onSwiperResize\n            });\n\n            console.log('product swiper is here ->', productSwiper);\n        });\n};\n\nmodule.exports.initSwiperZoom = () => {\n    const product = $('.js-product');\n    const win = window;\n    const fullPageClassName = 'product--full-page';\n\n    function onWindowResize() {\n        if (product.hasClass(fullPageClassName)) {\n            return;\n        }\n\n        if (win.document.documentElement.clientWidth < 980) {\n            product.addClass(fullPageClassName);\n            return;\n        }\n\n        product.removeClass(fullPageClassName);\n    }\n\n    onWindowResize();\n\n    $(win).on('resize', onWindowResize);\n\n    $('.js-product-swiper-wrapper').on('dblclick', () => {\n        product.toggleClass(fullPageClassName);\n        win.dispatchEvent(new Event('resize'));\n    });\n};\n\nmodule.exports.initAddToBasketForm = () => {\n    const win = window;\n\n    win.app = win.app || {};\n\n    const {app} = win;\n    const {product = null} = app;\n\n    if (!product) {\n        console.log('no add to basket form');\n        return;\n    }\n\n    const form = $('.js-add-to-basket-form');\n\n    form.on('submit', evt => {\n        evt.preventDefault();\n\n        const {basket} = app;\n\n        basket.change(product, Number(form.find('.js-count').val()));\n\n        $.snackbar({\n            content: 'Товар добавлен в корзину!', // text of the snackbar\n            style: 'snackbar', // add a custom class to your snackbar\n            timeout: 3e3// time in milliseconds after the snackbar autohides, 0 is disabled\n        });\n    });\n};\n\nfunction hasCategoryTheProduct(category, productId) {\n    return category.products.indexOf(productId) !== -1;\n}\n\nfunction findProductPath(category, productId, passList, callBack, watcher) {\n    const currentPassList = JSON.parse(JSON.stringify(passList));\n    const {slug, name, displayName} = category;\n\n    currentPassList.push({slug, name, displayName});\n\n    if (hasCategoryTheProduct(category, productId) && watcher.hasResult === false) {\n        currentPassList.shift();\n        callBack(currentPassList);\n        Object.assign(watcher, {hasResult: true});\n        return true; // stop outside loop\n    }\n\n    category\n        .categories\n        .some(subCategory => findProductPath(subCategory, productId, currentPassList, callBack, watcher));\n\n    // check for top category and for no result\n    if (currentPassList.length === 1 && watcher.hasResult === false) {\n        callBack(null);\n    }\n\n    return false; // continue outside loop\n}\n\nfunction getCategoriesPath(productId) {\n    const {app} = window;\n    const categoryTree = JSON.parse(JSON.stringify(app.categoryTree));\n    const resultObject = {};\n\n    findProductPath(categoryTree, productId, [], result => Object.assign(resultObject, {result}), {hasResult: false});\n\n    return resultObject.result;\n}\n\nmodule.exports.initBreadCrumbs = () => {\n    const wrapper = document.querySelector('.js-bread-crumbs');\n\n    if (!wrapper) {\n        console.log('no wrapper for bread-crumbs');\n        return;\n    }\n\n    const {app} = window;\n    const product = JSON.parse(JSON.stringify(app.product));\n\n    const categoriesPass = getCategoriesPath(product._id); // eslint-disable-line no-underscore-dangle\n\n    if (categoriesPass === null) {\n        console.error('Can NOT create bread crumbs for product');\n        return;\n    }\n\n    const categoryHtml = categoriesPass\n        .map(({slug, name, displayName}) =>\n            '<a class=\"bread-crumbs__link\" href=\"{{href}}\">{{name}}</a>'\n                .replace('{{href}}', '/category/' + slug)\n                .replace('{{name}}', displayName || name) +\n            '<span class=\"bread-crumbs__separator\">&gt;</span>'\n        )\n        .join('');\n\n    const productHtml = '<a class=\"bread-crumbs__link secondary-color\" href=\"{{href}}\">{{name}}</a>'\n        .replace('{{href}}', '/product/' + product.slug)\n        .replace('{{name}}', product.displayName || product.name);\n\n    wrapper.innerHTML = categoryHtml + productHtml;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/product.js","/* global Image */\n\nfunction loadImage(src) {\n    return new Promise((resolve, reject) => {\n        const image = new Image();\n\n        function onLoad() {\n            image.onload = image.onerror = null;\n            resolve(image);\n        }\n\n        function onError() {\n            image.onload = image.onerror = null;\n            reject(image);\n        }\n\n        image.onload = onLoad;\n        image.onerror = onError;\n\n        image.src = src;\n    });\n}\n\nfunction loadImages(imageSrcList) {\n    return Promise.all(imageSrcList.map(loadImage));\n}\n\nmodule.exports.loadImage = loadImage;\nmodule.exports.loadImages = loadImages;\n\n\n\n// WEBPACK FOOTER //\n// ./js/helper/image.js","function checkInput(input) {\n    const {value} = input;\n\n    if (input.hasAttribute('required') && !value) {\n        return false;\n    }\n\n    const pattern = input.getAttribute('pattern');\n\n    if (!pattern) {\n        return true;\n    }\n\n    const regExp = new RegExp(pattern);\n\n    return regExp.test(value);\n}\n\nfunction checkForm(form) {\n    const inputs = Array.prototype.slice.call(form.find('input')); // eslint-disable-line prefer-reflect\n\n    return inputs.every(checkInput);\n}\n\nmodule.exports.checkInput = checkInput;\nmodule.exports.checkForm = checkForm;\n\n\n\n// WEBPACK FOOTER //\n// ./js/helper/form.js","const $ = require('jquery');\nconst Basket = require('./my-lib/basket');\n\nmodule.exports.initBasket = () => {\n    const basket = new Basket({\n        wrapper: $('.js-cart')[0],\n        counter: $('.js-counter')[0],\n        postfix: ' руб.',\n        empty: 'Нет товаров'\n    });\n\n    const win = window;\n\n    win.app = win.app || {};\n    win.app.basket = basket;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/basket.js","/* global document, history*/\nconst React = require('react');\nconst {Component} = React;\nconst ReactDOM = require('react-dom');\nconst {numberToMoney} = require('./my-lib/format');\n\nwindow.app = window.app || {};\n\nclass CartTable extends Component {\n    constructor() {\n        super();\n\n        const view = this;\n        const {app} = window;\n        const {basket} = app;\n\n        view.state = {\n            items: basket.getItems()\n        };\n    }\n\n    onInputChange(slug, newCount) {\n        const view = this;\n        const {app} = window;\n        const {basket} = app;\n\n        basket.set({slug}, newCount);\n        view.setState({\n            items: basket.getItems()\n        });\n    }\n\n    render() {\n        const view = this;\n        const {state} = view;\n        const {items} = state;\n\n        if (items.length === 0) {\n            return <h2 className=\"page-header\">Корзина пуста</h2>;\n        }\n\n        return <div>\n            <div className=\"cart\">\n                <table className=\"table\">\n                    <thead className=\"table__head\">\n                        <tr>\n                            <th className=\"table__th\">№</th>\n                            <th className=\"table__th\">Наименование товара</th>\n                            <th className=\"table__th\">Кол-во</th>\n                            <th className=\"table__th\">Цена (руб.)</th>\n                            <th className=\"table__th\">Сумма (руб.)</th>\n                            <th className=\"table__th\"/>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {items.map((product, ii) => <tr className=\"table__tr\" key={ii}>\n                            <td className=\"table__td table__td--ta-center\">{ii + 1}</td>\n                            <td className=\"table__td\">\n                                <div className=\"table__product-image\"\n                                    style={{backgroundImage: 'url(' + product.images[0] + ')'}}/>\n                                <a href={'/product/' + product.slug} className=\"table__product-name\">{product.name}</a>\n                                <p className=\"table__product-article\">Артикул: {product.article}</p>\n                            </td>\n                            <td className=\"table__td\">\n                                <input\n                                    className=\"input input--number block-center\"\n                                    type=\"number\"\n                                    min=\"1\"\n                                    defaultValue={product.count}\n                                    onBlur={onInputNumberBlur}\n                                    onChange={evt =>\n                                        view.onInputChange(product.slug, parseInt(evt.currentTarget.value, 10) || 1)}\n                                    required/>\n                            </td>\n                            <td className=\"table__td table__td--ta-right\">\n                                <span className=\"table__number\">\n                                    {numberToMoney(product.price)}\n                                </span>\n                            </td>\n                            <td className=\"table__td table__td--ta-right\">\n                                <span className=\"table__number\">\n                                    {numberToMoney(product.count * product.price)}\n                                </span>\n                            </td>\n                            <td className=\"table__td\">\n                                <span onClick={evt => view.onInputChange(product.slug, 0)} className=\"table__close\"/>\n                            </td>\n                        </tr>)}\n                        <tr>\n                            <td colSpan=\"3\">\n                                <span className=\"table__number bold\">\n                                Итого:\n                                </span>\n                            </td>\n                            <td colSpan=\"2\">\n                                <span className=\"table__number table__number--left bold\">\n                                    {numberToMoney(window.app.basket.getFullPrice())} руб.\n                                </span>\n                            </td>\n                            <td/>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div className=\"buttons-wrapper\">\n                <button className=\"button\" onClick={() => history.back()}>продолжить покупки</button>\n                <a href=\"/ordering\" className=\"button\">оформить заказ</a>\n            </div>\n        </div>;\n    }\n}\n\nfunction onInputNumberBlur(evt) {\n    const input = evt.currentTarget;\n    const value = parseInt(input.value, 10) || 0;\n\n    if (value <= 0) {\n        input.value = 1;\n    }\n}\n\nmodule.exports.initCartTable = () => {\n    const wrapper = document.querySelector('.js-table-cart');\n\n    if (!wrapper) {\n        return;\n    }\n\n    ReactDOM.render(\n        <CartTable/>,\n        wrapper\n    );\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./js/cart.js","/* global location */\nconst $ = require('jquery');\nconst {showError} = require('./authorization');\n\nfunction createOrder(form) {\n    return new Promise((resolve, reject) => {\n        const serializedForm = form.serializeToJSON();\n        const basketItems = window.app.basket.getItems();\n        const products = basketItems\n            .map(({slug, name, count}) => JSON.stringify({slug, name, count})\n                .replace(/\":/g, '\": ')\n                .replace(/^{|}$/g, '')\n                .replace(/\",\\s?\"/g, '\"; \"')\n                .replace(/\"([\\S\\s]+?)\"/g, '$1')\n            );\n\n        $.ajax({\n            type: 'post',\n            url: '/api/create-order',\n            data: {\n                ...serializedForm,\n                products,\n                basketItems: JSON.stringify(basketItems)\n            }, // serializes the form's elements.\n            success: data => data.hasOwnProperty('error') ?\n                reject(data) :\n                resolve(data)\n        });\n    });\n}\n\nfunction updateUserData(form) {\n    return new Promise((resolve, reject) => {\n        $.ajax({\n            type: 'post',\n            url: '/api/update',\n            data: form.serialize(), // serializes the form's elements.\n            success: data => data.hasOwnProperty('error') ?\n                reject(data) :\n                resolve(data)\n        });\n    });\n}\n\nmodule.exports.initOrderForm = () => {\n    const orderingForm = $('.js-ordering-form');\n\n    if (orderingForm.length === 0) {\n        console.log('NO ordering form');\n        return;\n    }\n\n    orderingForm.on('submit', evt => {\n        evt.preventDefault();\n\n        updateUserData(orderingForm)\n            .then(() => createOrder(orderingForm))\n            .then(data => {\n                window.app.basket.clear();\n                Object.assign(location, {href: '/order/' + data.slug + '?header=congratulation'});\n            })\n            .catch(showError);\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/ordering.js","/* global document */\nconst React = require('react');\nconst {Component} = React;\nconst ReactDOM = require('react-dom');\nconst find = require('lodash/find');\n// const {browser} = require('./my-lib/browser');\n\nwindow.app = window.app || {};\n\nconst narrowWidth = 767;\n\nclass TabContent extends Component {\n    render() {\n        const view = this;\n        const {props} = view;\n        const {category} = props;\n        const {categories} = category;\n\n        if (categories.length === 0) {\n            return null;\n        }\n\n        return <div className=\"header-nav__tab-wrapper\">\n            <div className=\"category-item__wrapper clear-self\">\n                {categories.map(({image, displayName, name, slug}) =>\n                    <a key={slug} href={'/category/' + slug} className=\"category-item clear-self\">\n                        <span className=\"category-item__image\" style={{backgroundImage: 'url(' + image + ')'}}/>\n                        <p className=\"category-item__name\">{displayName || name}</p>\n                    </a>)}\n            </div>\n        </div>;\n    }\n}\n\nclass HeaderNav extends Component {\n    constructor() {\n        super();\n\n        const view = this;\n        const {app} = window;\n        const {categoryTree} = app;\n\n        view.state = {\n            categoryTree: JSON.parse(JSON.stringify(categoryTree)),\n            activeCategorySlug: null,\n            isNarrow: false,\n            wrapper: document.querySelector('.js-header-nav')\n        };\n    }\n\n    componentWillUpdate(nextProps, nextState) {\n        const view = this;\n        const {state} = view;\n        const {isNarrow} = state;\n        const nextIsNarrow = nextState.isNarrow;\n\n        if (isNarrow === nextIsNarrow) {\n            return;\n        }\n\n        view.closeTabs();\n    }\n\n    componentDidUpdate() {\n        const view = this;\n        const {state} = view;\n        const {wrapper, isNarrow} = state;\n\n        if (isNarrow) {\n            wrapper.classList.remove('header-nav__sticky');\n        } else {\n            wrapper.classList.add('header-nav__sticky');\n        }\n    }\n\n    componentDidMount() {\n        const view = this;\n\n        view.bindEvents();\n        view.onResize();\n    }\n\n    onResize() {\n        const view = this;\n        const isNarrow = document.documentElement.clientWidth < narrowWidth;\n\n        view.setState({isNarrow});\n    }\n\n    bindEvents() {\n        const view = this;\n\n        window.addEventListener('resize', () => view.onResize(), false);\n    }\n\n    openTab(slug) {\n        const view = this;\n\n        view.setState({activeCategorySlug: slug});\n    }\n\n    closeTabs() {\n        const view = this;\n\n        view.setState({activeCategorySlug: null});\n    }\n\n    switchTab(slug) {\n        const view = this;\n        const {state} = view;\n        const {activeCategorySlug} = state;\n        const newSlug = activeCategorySlug === slug ? null : slug;\n\n        view.setState({activeCategorySlug: newSlug});\n    }\n\n    narrowRender() {\n        const view = this;\n        const {state} = view;\n        const {categoryTree} = state;\n        const activeCategory = find(categoryTree.categories, {slug: state.activeCategorySlug});\n\n        return <div>\n            {categoryTree.categories\n                .sort((category1, category2) => category1.order - category2.order)\n                .map(({displayName, name, slug, categories}) => <div\n                    className=\"header-nav__link header-nav__link--narrow\"\n                    key={slug}>\n                    <a href={'/category/' + slug}\n                        className=\"header-nav__active-element\">\n                        {displayName || name}\n                    </a>\n                    {categories.length === 0 ?\n                        null :\n                        <div className=\"header-nav__switch-button\"\n                            onClick={() => view.switchTab(slug)}>\n                            {activeCategory && activeCategory.slug === slug ? '×' : '+'}\n                        </div>\n                    }\n                    {activeCategory && activeCategory.slug === slug && <TabContent category={activeCategory}/>}\n                </div>)\n            }\n        </div>;\n    }\n\n    render() {\n        const view = this;\n        const {state} = view;\n        const {categoryTree, isNarrow} = state;\n        const activeCategory = find(categoryTree.categories, {slug: state.activeCategorySlug});\n\n        if (isNarrow) {\n            return view.narrowRender();\n        }\n\n        return <div>\n            {categoryTree.categories\n                .sort((category1, category2) => category1.order - category2.order)\n                .map(({displayName, name, slug}) => <div\n                    className=\"header-nav__link\"\n                    onMouseEnter={() => view.openTab(slug)}\n                    onMouseLeave={() => view.closeTabs()}\n                    key={slug}>\n                    <a href={'/category/' + slug}\n                        className=\"header-nav__active-element\">\n                        {displayName || name}\n                    </a>\n                    {activeCategory && activeCategory.slug === slug && <TabContent category={activeCategory}/>}\n                </div>)\n            }\n        </div>;\n    }\n}\n\nmodule.exports.initHeaderNav = () => {\n    const wrapper = document.querySelector('.js-header-nav');\n    const {categoryTree} = window.app;\n\n    if (!wrapper || !categoryTree) {\n        return;\n    }\n\n    ReactDOM.render(\n        <HeaderNav/>,\n        wrapper\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/header-nav.js","/* global document, setTimeout, location */\nconst React = require('react');\nconst ReactDOM = require('react-dom');\nconst classnames = require('classnames');\nconst {normalizeString} = require('./my-lib/format');\nconst {SearchPage} = require('./search-page');\n\nclass HeaderSearch extends SearchPage {\n    constructor() {\n        super();\n\n        const view = this;\n\n        view.state = {\n            query: '',\n            products: [],\n            isInProgress: false,\n            hasFocus: false\n        };\n    }\n\n    renderList() {\n        const view = this;\n        const {state} = view;\n        const {products, hasFocus, query} = state;\n\n        if (!hasFocus || !query) {\n            return null;\n        }\n\n        if (!products.length) {\n            return <div className=\"header-search__result-list header-search__result-list--search-empty\">\n                По запросу<span className=\"bold\"> \"{query}\" </span>ничего не найдено\n            </div>;\n        }\n\n        return <div className=\"header-search__result-list\">\n            {products.map(({slug, name, description, images}) =>\n                <a href={'/product/' + slug} className=\"header-search__result-item clear-full\"\n                    key={slug}>\n                    <div className=\"header-search__result-image\" style={{backgroundImage: 'url(' + images[0] + ')'}}/>\n                    <h4 className=\"header-search__result-name\">{name}</h4>\n                    <p className=\"header-search__result-description\" dangerouslySetInnerHTML={{__html: description}}/>\n                </a>)}\n        </div>;\n    }\n\n    onFormSubmit(evt) {\n        evt.preventDefault();\n\n        const view = this;\n        const {searchInput} = view.refs;\n        const query = normalizeString(searchInput.value);\n\n        Object.assign(location, {href: '/search?query=' + query});\n    }\n\n    render() {\n        const view = this;\n        const {state} = view;\n        const {isInProgress} = state;\n\n        const searchIconClassName = classnames('header-search__icon', {\n            'header-search__icon--in-progress': isInProgress\n        });\n\n        return <form className=\"header-search\" onSubmit={evt => view.onFormSubmit(evt)} ref=\"form\">\n            <input\n                ref=\"searchInput\"\n                className=\"header-search__input\"\n                placeholder=\"Поиск...\"\n                onInput={evt => view.onSearchInput()}\n                onFocus={() => {\n                    view.onSearchInput();\n                    view.setState({hasFocus: true});\n                }}\n                onBlur={() => setTimeout(() => view.setState({hasFocus: false}), 300)}\n            />\n            <div onClick={evt => view.onFormSubmit(evt)} className={searchIconClassName}/>\n            {view.renderList()}\n        </form>;\n    }\n}\n\nmodule.exports.initHeaderSearch = () => {\n    const wrapper = document.querySelector('.js-header-search');\n\n    if (!wrapper) {\n        return;\n    }\n\n    ReactDOM.render(\n        <HeaderSearch/>,\n        wrapper\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/header-search.js","/* global fetch, setTimeout */\n\nconst emptyQuery = '';\n\nconst promiseCache = {\n    [emptyQuery]: Promise.resolve({products: []})\n};\n\nfunction search(query) {\n    if (promiseCache.hasOwnProperty(query)) {\n        return promiseCache[query];\n    }\n\n    promiseCache[query] = fetch('/api/search?query=' + query)\n        .then(rawResult => rawResult.json());\n\n    return promiseCache[query];\n}\n\nmodule.exports.search = search;\n\nfunction sortProduct(products, query) {\n    return products\n        .sort((product1, product2) => {\n            const delta = product1.name.search(new RegExp(query, 'gi')) -\n                product2.name.search(new RegExp(query, 'gi'));\n\n            if (delta) {\n                return delta;\n            }\n\n            return product1.name > product2.name ? 0.5 : -0.5;\n        });\n}\n\nmodule.exports.sortProduct = sortProduct;\n\n\n\n// WEBPACK FOOTER //\n// ./js/my-lib/search.js","/* global document*/\n\nconst scrollMethods = (() => {\n    const docElem = document.documentElement;\n    let {scrollTop = 0} = docElem;\n\n    function saveScrollTop() {\n        console.log('save', docElem.scrollTop);\n        scrollTop = docElem.scrollTop;\n    }\n\n    function restoreScrollTop() {\n        console.log('restore', scrollTop);\n        docElem.scrollTop = scrollTop;\n    }\n\n    return {\n        saveScrollTop,\n        restoreScrollTop\n    };\n})();\n\n\nmodule.exports.saveScrollTop = scrollMethods.saveScrollTop;\nmodule.exports.restoreScrollTop = scrollMethods.restoreScrollTop;\n\n\n\n// WEBPACK FOOTER //\n// ./js/my-lib/screen.js","/* global document */\nfunction hasCategoryTheCategory(category, slug) {\n    return category.categories.some(subCategory => subCategory.slug === slug);\n}\n\nfunction findCategoryPath(category, categorySlug, passList, callBack, watcher) {\n    const currentPassList = JSON.parse(JSON.stringify(passList));\n    const {slug, name, displayName} = category;\n\n    currentPassList.push({slug, name, displayName});\n\n    if (hasCategoryTheCategory(category, categorySlug) && watcher.hasResult === false) {\n        currentPassList.shift();\n        callBack(currentPassList);\n        Object.assign(watcher, {hasResult: true});\n        return true; // stop outside loop\n    }\n\n    category\n        .categories\n        .some(subCategory => findCategoryPath(subCategory, categorySlug, currentPassList, callBack, watcher));\n\n    // check for top category and for no result\n    if (currentPassList.length === 1 && watcher.hasResult === false) {\n        callBack(null);\n    }\n\n    return false; // continue outside loop\n}\n\nfunction getCategoriesPath(slug) {\n    const {app} = window;\n    const categoryTree = JSON.parse(JSON.stringify(app.categoryTree));\n    const resultObject = {};\n\n    findCategoryPath(categoryTree, slug, [], result => Object.assign(resultObject, {result}), {hasResult: false});\n\n    return resultObject.result;\n}\n\nmodule.exports.initBreadCrumbs = () => {\n    const wrapper = document.querySelector('.js-category-bread-crumbs');\n\n    if (!wrapper) {\n        console.log('no wrapper for bread-crumbs');\n        return;\n    }\n\n    const {app} = window;\n    const category = JSON.parse(JSON.stringify(app.category));\n\n    const categoriesPass = getCategoriesPath(category.slug); // eslint-disable-line no-underscore-dangle\n\n    if (categoriesPass === null) {\n        console.error('Can NOT create bread crumbs for category');\n        return;\n    }\n\n    if (categoriesPass.length === 0) {\n        console.log('Sub root category - do not show bread crumbs');\n        return;\n    }\n\n    categoriesPass.push({\n        slug: category.slug,\n        name: category.name,\n        displayName: category.displayName\n    });\n\n    wrapper.innerHTML = categoriesPass\n        .map(({slug, name, displayName}) =>\n            '<a class=\"bread-crumbs__link\" href=\"{{href}}\">{{name}}</a>'\n                .replace('{{href}}', '/category/' + slug)\n                .replace('{{name}}', displayName || name)\n        )\n        .join('<span class=\"bread-crumbs__separator\">&gt;</span>');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/category.js","const React = require('react');\nconst {Component} = React;\nconst classnames = require('classnames');\n\nclass ProductPreview extends Component {\n    render() {\n        const view = this;\n        const {props} = view;\n        const {product} = props;\n        const {slug, name, description, images, price, promotable} = product;\n\n        return <a onContextMenu={evt => evt.preventDefault()}\n            href={'/product/' + slug}\n            className={classnames('product-preview', {'product-preview--promotable': promotable})}>\n            <div className=\"product-preview__image\"\n                style={{backgroundImage: 'url(' + images[0] + ')'}}/>\n            <h3 className=\"product-preview__name\">{name}</h3>\n            <div className=\"product-preview__description\" dangerouslySetInnerHTML={{__html: description}}/>\n            <span className=\"product-preview__price\">{price} руб.</span>\n        </a>;\n    }\n}\n\nmodule.exports.ProductPreview = ProductPreview;\n\n\n\n// WEBPACK FOOTER //\n// ./js/component/product-preview.js","/* global document, location, setTimeout */\nconst $ = require('jquery');\nconst {checkForm} = require('./helper/form');\nconst {getUrlQuery} = require('./my-lib/query-parameter');\n\nfunction showError({id}) { // eslint-disable-line complexity\n    const style = 'snackbar';\n    const timeout = 6e3;\n\n    switch (id) {\n        case 'no-needed-data':\n            $.snackbar({\n                content: 'Ошибка: недостаточно данных!', // text of the snackbar\n                style, // add a custom class to your snackbar\n                timeout// time in milliseconds after the snackbar autohides, 0 is disabled\n            });\n            break;\n        case 'user-already-exists':\n            $.snackbar({\n                content: 'Ошибка: пользователь с таким Email уже существует! Попробуйте ВОЙТИ.', // text of the snackbar\n                style, // add a custom class to your snackbar\n                timeout// time in milliseconds after the snackbar autohides, 0 is disabled\n            });\n            break;\n        case 'unknow-sever-error':\n            $.snackbar({\n                content: 'Ошибка: неизвестная ошибка сервера! Да, и такое бывает...', // text of the snackbar\n                style, // add a custom class to your snackbar\n                timeout// time in milliseconds after the snackbar autohides, 0 is disabled\n            });\n            break;\n        case 'user-is-not-exists':\n            $.snackbar({\n                content: 'Ошибка: пользователя с таким Email НЕ существует!', // text of the snackbar\n                style, // add a custom class to your snackbar\n                timeout// time in milliseconds after the snackbar autohides, 0 is disabled\n            });\n            break;\n        case 'wrong-password':\n            $.snackbar({\n                content: 'Ошибка: Пароль неверен!', // text of the snackbar\n                style, // add a custom class to your snackbar\n                timeout// time in milliseconds after the snackbar autohides, 0 is disabled\n            });\n            break;\n\n        default:\n            $.snackbar({\n                content: 'Ошибка: неизвестная ошибка клиента! Да, и такое бывает...', // text of the snackbar\n                style, // add a custom class to your snackbar\n                timeout// time in milliseconds after the snackbar autohides, 0 is disabled\n            });\n    }\n}\n\nmodule.exports.showError = showError;\n\nmodule.exports.initAuthorizationForm = () => {\n    const form = $('.js-authorization-form');\n\n    form.on('submit', evt => evt.preventDefault());\n\n    $('.js-login')\n        .on('click', () => {\n            if (!checkForm(form)) {\n                return;\n            }\n\n            $.ajax({\n                type: 'post',\n                url: '/api/login/',\n                data: form.serialize(), // serializes the form's elements.\n                success: data => {\n                    if (data.hasOwnProperty('error')) {\n                        showError(data.error);\n                        return;\n                    }\n\n                    const redirect = getUrlQuery().redirect;\n\n                    location.href = redirect || document.referrer || location.origin;\n                }\n            });\n        });\n\n    $('.js-register')\n        .on('click', () => {\n            if (!checkForm(form)) {\n                return;\n            }\n\n            $.ajax({\n                type: 'post',\n                url: '/api/registration/',\n                data: form.serialize(), // serializes the form's elements.\n                success: data => {\n                    if (data.hasOwnProperty('error')) {\n                        showError(data.error);\n                        return;\n                    }\n\n                    $.snackbar({\n                        content: 'Регистрация прошла успешно!', // text of the snackbar\n                        style: 'snackbar', // add a custom class to your snackbar\n                        timeout: 3e3// time in milliseconds after the snackbar autohides, 0 is disabled\n                    });\n\n                    $('.js-login').click();\n\n                    console.log('add auto login here');\n                }\n            });\n        });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/authorization.js","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/classnames/index.js\n// module id = 67\n// module chunks = 0","/* global document */\nconst React = require('react');\nconst {Component} = React;\nconst ReactDOM = require('react-dom');\nconst {search, sortProduct} = require('./my-lib/search');\nconst {normalizeString} = require('./my-lib/format');\nconst {getUrlQuery} = require('./my-lib/query-parameter');\nconst classnames = require('classnames');\nconst {saveScrollTop, restoreScrollTop} = require('./my-lib/screen');\nconst {ProductPreview} = require('./component/product-preview');\n\nclass SearchPage extends Component {\n    constructor() {\n        super();\n\n        const view = this;\n\n        view.state = {\n            query: '',\n            products: [],\n            isInProgress: false\n        };\n    }\n\n    componentDidMount() {\n        const view = this;\n        const {query = ''} = getUrlQuery();\n        const {searchInput} = view.refs;\n\n        searchInput.value = decodeURI(query);\n\n        if (query) {\n            view.onSearchInput();\n        }\n    }\n\n    onSearchInput() {\n        const view = this;\n        const {searchInput} = view.refs;\n        const query = normalizeString(searchInput.value);\n\n        saveScrollTop();\n\n        view.setState({isInProgress: true}, restoreScrollTop);\n\n        search(query)\n            .then(searchResult => {\n                if (query !== normalizeString(searchInput.value)) {\n                    return;\n                }\n\n                view.setState({\n                    products: sortProduct(searchResult.products, query),\n                    query,\n                    isInProgress: false\n                }, restoreScrollTop);\n            });\n    }\n\n    renderList() {\n        const view = this;\n        const {state} = view;\n        const {products, query} = state;\n\n        if (!query) {\n            return <h3 className=\"page-header\">Введите запрос для поиска!</h3>;\n        }\n\n        if (!products.length) {\n            return <h3 className=\"page-header\">Ничего не найдено!</h3>;\n        }\n\n        return products.map(product => <ProductPreview key={product.slug} product={product}/>);\n    }\n\n    render() {\n        const view = this;\n        const {state} = view;\n        const {isInProgress} = state;\n\n        const searchIconClassName = classnames('header-search__icon', {\n            'header-search__icon--in-progress': isInProgress\n        });\n\n        return <div className=\"search-page\">\n            <div className=\"search-page__input-wrapper\">\n                <input\n                    ref=\"searchInput\"\n                    className=\"search-page__input\"\n                    placeholder=\"Поиск...\"\n                    onInput={evt => view.onSearchInput()}\n                />\n                <div onClick={() => view.refs.searchInput.focus()} className={searchIconClassName}/>\n            </div>\n            <div\n                className={classnames(\n                    'products-preview',\n                    'search-page__result',\n                    {'search-page__result--in-progress': isInProgress})\n                }>\n                {view.renderList()}\n            </div>\n        </div>;\n    }\n}\n\nmodule.exports.initPage = () => {\n    const wrapper = document.querySelector('.js-search-page-result');\n\n    if (!wrapper) {\n        return;\n    }\n\n    ReactDOM.render(\n        <SearchPage/>,\n        wrapper\n    );\n};\n\nmodule.exports.SearchPage = SearchPage;\n\n\n\n// WEBPACK FOOTER //\n// ./js/search-page.js"],"sourceRoot":""}