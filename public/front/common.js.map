{"version":3,"sources":["webpack:///webpack/bootstrap 2af8b1def2e67750192f","webpack:///./js/lib/idangerous.swiper.js","webpack:///../node_modules/fastclick/lib/fastclick.js","webpack:///./js/common.js"],"names":["Swiper","selector","params","document","body","outerHTML","__defineGetter__","HTMLElement","element","prototype","XMLSerializer","serializeToString","window","getComputedStyle","el","pseudo","getPropertyValue","prop","re","test","replace","arguments","toUpperCase","currentStyle","Array","indexOf","obj","start","i","j","length","querySelectorAll","jQuery","$$","context","nodeType","_this","touches","startX","startY","current","currentX","currentY","diff","abs","positions","times","end","id","Date","getTime","container","isTouched","isMoved","activeIndex","centerIndex","activeLoaderIndex","activeLoopIndex","previousIndex","velocity","snapGrid","slidesGrid","imagesToLoad","imagesLoaded","wrapperLeft","wrapperRight","wrapperTop","wrapperBottom","isAndroid","navigator","userAgent","toLowerCase","wrapper","slideSize","wrapperSize","direction","isScrolling","containerSize","defaults","eventTarget","mode","touchRatio","speed","freeMode","freeModeFluid","momentumRatio","momentumBounce","momentumBounceRatio","slidesPerView","slidesPerGroup","slidesPerViewFit","simulateTouch","followFinger","shortSwipes","longSwipesRatio","moveStartThreshold","onlyExternal","createPagination","pagination","paginationElement","paginationClickable","paginationAsRange","resistance","scrollContainer","preventLinks","preventLinksPropagation","noSwiping","noSwipingClass","initialSlide","keyboardControl","mousewheelControl","mousewheelControlForceToAxis","useCSS3Transforms","autoplay","autoplayDisableOnInteraction","autoplayStopOnLast","loop","loopAdditionalSlides","roundLengths","calculateHeight","cssWidthAndHeight","updateOnImagesReady","releaseFormElements","watchActiveIndex","visibilityFullFit","offsetPxBefore","offsetPxAfter","offsetSlidesBefore","offsetSlidesAfter","centeredSlides","queueStartCallbacks","queueEndCallbacks","autoResize","resizeReInit","DOMAnimation","loader","slides","slidesHTMLType","surroundGroups","logic","loadAllSlides","swipeToPrev","swipeToNext","slideElement","slideClass","slideActiveClass","slideVisibleClass","slideDuplicateClass","wrapperClass","paginationElementClass","paginationActiveClass","paginationVisibleClass","subProp","isH","desktopEvents","browser","ie10","ie11","touchEvents","touchStart","support","touch","touchMove","touchEnd","childNodes","className","_wrapperClasses","split","_extendSwiperSlide","append","insertAfter","loopedSlides","appendChild","reInit","prepend","insertBefore","removeLoopedSlides","calcSlides","createLoop","firstChild","index","beforeSlide","clone","cloneNode","remove","removeChild","html","innerHTML","isActive","swiperSlideDataStorage","getData","name","setData","value","data","getAttribute","setAttribute","getWidth","outer","round","h","getHeight","getOffset","forceCalcSlides","oldNumber","displaySlides","_className","_slideClasses","push","removeSlideEvents","addSlideEvents","updateActiveSlide","callPlugins","createSlide","slideClassList","newSlide","createElement","appendSlide","prependSlide","insertSlideAfter","removeSlide","removeLastSlide","removeAllSlides","num","setWrapperTranslate","getSlide","getLastSlide","getFirstSlide","activeSlide","fireCallback","callback","Object","toString","call","isArray","apply","addCallback","func","tempFunc","removeCallbacks","_plugins","plugin","plugins","p","method","args","classList","add","initialized","init","force","_width","_height","width","height","slideWidth","slideHeight","slideMaxHeight","wrapperWidth","wrapperHeight","slideLeft","slidesWidth","slidesHeight","slidesOffset","style","paddingLeft","paddingRight","paddingTop","paddingBottom","centeredSlideLeft","Math","max","_slideSize","nextSlideWidth","nextSlideHeight","nextSlideSize","floor","k","ceil","parseFloat","onFirstInit","onInit","resizeFix","swipeTo","transitions","autoplayTimeoutId","clearTimeout","undefined","startAutoplay","autoplayIntervalId","clearInterval","getWrapperTranslate","maxWrapperPosition","setWrapperTransition","a","initEvents","bind","addEventListener","onTouchStart","onTouchMove","onTouchEnd","_wheelEvent","onmousewheel","WheelEvent","e","handleMousewheel","_loadImage","img","image","src","onReady","onImagesReady","complete","currentSrc","Image","onload","onerror","handleKeyboardKeys","destroy","removeStyles","unbind","removeEventListener","removePaginationEvents","stopAutoplay","removeAttribute","removeData","Zepto","links","preventClick","formElements","releaseForms","onSlideClick","slideClick","onSlideTouch","slideTouch","kc","keyCode","charCode","shiftKey","altKey","ctrlKey","metaKey","inView","swiperOffset","scrollLeft","windowScroll","left","scrollTop","top","windowWidth","windowHeight","swiperCoord","point","preventDefault","returnValue","swipeNext","swipePrev","disableKeyboardControl","enableKeyboardControl","lastScrollTime","we","delta","detail","wheelDeltaX","wheelDeltaY","wheelDelta","deltaX","deltaY","position","disableMousewheelControl","enableMousewheelControl","grabCursor","containerStyle","cursor","allowSlideClick","event","setClickedSlide","currentTarget","srcElement","parentNode","clickedSlide","clickedSlideIndex","clickedSlideLoopIndex","allowLinks","stopPropagation","isTouchEvent","allowThresholdMove","allowMomentumBounce","target","activeElement","blur","formTagNames","noSwipingSlide","type","which","targetTouches","tagName","pageX","clientX","pageY","clientY","velocityPrevPosition","velocityPrevTime","assignedToSwiper","fixLoop","onTouchMoveStart","onResistanceBefore","onResistanceAfter","newPos","stopPos","swipeReset","diffAbs","timeDiff","setTimeout","maxPosition","momentumDuration","momentumDistance","newPosition","doBounce","afterBouncePosition","bounceAmount","wrapperTransitionEnd","onMomentumBounce","targetSlideSize","currentPosition","hasClass","classname","parentElement","addClassToHtmlString","klass","outerHtml","par","child","runCallbacks","internal","toFixed","groupSize","swipeToPosition","parseInt","isFinite","action","toOptions","timeOld","anim","timeNew","time","animationStep","condition","_DOMAnimating","onSlideChangeEnd","onSlideNext","onSlidePrev","onSlideReset","slideChangeCallbacks","_queueStartCallbacks","_queueEndCallbacks","onSlideChangeStart","swiper","leftDistance","rightDistance","calcVisibleSlides","slide","visibleSlides","activeClassRegexp","RegExp","inViewClassRegexp","ls","updatePagination","firstInit","paginationButtons","paginationContainer","paginationHTML","numOfSlides","numOfButtons","addPaginationEvents","pagers","paginationClick","activePagers","indexOffset","visibleIndexes","visIndex","_slideLeft","_slideRight","isVisibile","onAutoplayStart","setInterval","onAutoplayStop","loopCreated","slideFirstHTML","slideLastHTML","slidesSetFullHTML","numSlides","fullSlideSets","remainderSlides","over","newIndex","loadSlides","slidesHTML","slidesToLoad","reloadSlides","newActiveIndex","firstIndex","lastIndex","min","newTransform","minExistIndex","maxExistIndex","makeSwiper","onSwiperCreated","permanent","events","fireCallBack","axis","matrix","curTransform","curStyle","transformMatrix","transforms","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","transform","m41","m42","x","y","z","es","coords","translate","transforms3d","onSetWrapperTransform","duration","webkitTransitionDuration","MsTransitionDuration","msTransitionDuration","MozTransitionDuration","OTransitionDuration","transitionDuration","onSetWrapperTransition","returnWidth","isNaN","offsetWidth","offsetHeight","returnHeight","box","getBoundingClientRect","clientTop","clientLeft","pageYOffset","pageXOffset","documentElement","innerWidth","clientWidth","innerHeight","clientHeight","listener","useCapture","attachEvent","detachEvent","setTransform","setTranslate","pos","transformString","setTransition","Modernizr","DocumentTouch","csstransforms3d","div","csstransforms","csstransitions","ie8","rv","appName","ua","exec","$1","msPointerEnabled","pointerEnabled","$","fn","firstInstance","each","that","s","module","exports","define","amd","require"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAY,2BAA2B;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAA0C,WAAW,EAAE;AACvD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;;;;;;;;;;;;ACpJA;;;;;;;;;;;;;;AAcA,IAAIA,SAAS,SAATA,MAAS,CAAUC,QAAV,EAAoBC,MAApB,EAA4B;AACrC;;AAEA;;;;AAGA,QAAI,CAACC,SAASC,IAAT,CAAcC,SAAf,IAA4BF,SAASC,IAAT,CAAcE,gBAA9C,EAAgE;AAC5D,YAAIC,WAAJ,EAAiB;AACb,gBAAIC,UAAUD,YAAYE,SAA1B;AACA,gBAAID,QAAQF,gBAAZ,EAA8B;AAC1BE,wBAAQF,gBAAR,CAAyB,WAAzB,EAAsC,YAAY;AAAE,2BAAO,IAAII,aAAJ,GAAoBC,iBAApB,CAAsC,IAAtC,CAAP;AAAqD,iBAAzG;AACH;AACJ;AACJ;;AAED,QAAI,CAACC,OAAOC,gBAAZ,E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;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,yCAAyC;AAC/D;;;AAGA;AACA;AACA,qCAAqC,OAAO;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC,cAAc,QAAQ;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC,YAAY,MAAM;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA,YAAY,YAAY;AACxB,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,6BAA6B;AACzC,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,OAAO,YAAY;AAC/B;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,GAAG;AAAA;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,CAAC;;;;;;;;;;ACx0BD;AACA;;AAEA,mBAAAglB,CAAQ,CAAR;AACA,mBAAAA,CAAQ,CAAR;AACA,oB","file":"common.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n \t\tif(executeModules) {\n \t\t\tfor(i=0; i < executeModules.length; i++) {\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = executeModules[i]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData === 0) {\n \t\t\treturn new Promise(function(resolve) { resolve(); });\n \t\t}\n\n \t\t// a Promise means \"currently loading\".\n \t\tif(installedChunkData) {\n \t\t\treturn installedChunkData[2];\n \t\t}\n\n \t\t// setup Promise in chunk cache\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\tinstalledChunkData[2] = promise;\n\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tif (__webpack_require__.nc) {\n \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t}\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) {\n \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\t}\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\treturn promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2af8b1def2e67750192f","/*\n * Swiper 2.7.6\n * Mobile touch slider and framework with hardware accelerated transitions\n *\n * http://www.idangero.us/sliders/swiper/\n *\n * Copyright 2010-2015, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n *\n * Licensed under GPL & MIT\n *\n * Released on: February 11, 2015\n*/\nvar Swiper = function (selector, params) {\n    'use strict';\n\n    /*=========================\n      A little bit dirty but required part for IE8 and old FF support\n      ===========================*/\n    if (!document.body.outerHTML && document.body.__defineGetter__) {\n        if (HTMLElement) {\n            var element = HTMLElement.prototype;\n            if (element.__defineGetter__) {\n                element.__defineGetter__('outerHTML', function () { return new XMLSerializer().serializeToString(this); });\n            }\n        }\n    }\n\n    if (!window.getComputedStyle) {\n        window.getComputedStyle = function (el, pseudo) {\n            this.el = el;\n            this.getPropertyValue = function (prop) {\n                var re = /(\\-([a-z]){1})/g;\n                if (prop === 'float') prop = 'styleFloat';\n                if (re.test(prop)) {\n                    prop = prop.replace(re, function () {\n                        return arguments[2].toUpperCase();\n                    });\n                }\n                return el.currentStyle[prop] ? el.currentStyle[prop] : null;\n            };\n            return this;\n        };\n    }\n    if (!Array.prototype.indexOf) {\n        Array.prototype.indexOf = function (obj, start) {\n            for (var i = (start || 0), j = this.length; i < j; i++) {\n                if (this[i] === obj) { return i; }\n            }\n            return -1;\n        };\n    }\n    if (!document.querySelectorAll) {\n        if (!window.jQuery) return;\n    }\n    function $$(selector, context) {\n        if (document.querySelectorAll)\n            return (context || document).querySelectorAll(selector);\n        else\n            return jQuery(selector, context);\n    }\n\n    /*=========================\n      Check for correct selector\n      ===========================*/\n    if (typeof selector === 'undefined') return;\n\n    if (!(selector.nodeType)) {\n        if ($$(selector).length === 0) return;\n    }\n\n     /*=========================\n      _this\n      ===========================*/\n    var _this = this;\n\n     /*=========================\n      Default Flags and vars\n      ===========================*/\n    _this.touches = {\n        start: 0,\n        startX: 0,\n        startY: 0,\n        current: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0,\n        abs: 0\n    };\n    _this.positions = {\n        start: 0,\n        abs: 0,\n        diff: 0,\n        current: 0\n    };\n    _this.times = {\n        start: 0,\n        end: 0\n    };\n\n    _this.id = (new Date()).getTime();\n    _this.container = (selector.nodeType) ? selector : $$(selector)[0];\n    _this.isTouched = false;\n    _this.isMoved = false;\n    _this.activeIndex = 0;\n    _this.centerIndex = 0;\n    _this.activeLoaderIndex = 0;\n    _this.activeLoopIndex = 0;\n    _this.previousIndex = null;\n    _this.velocity = 0;\n    _this.snapGrid = [];\n    _this.slidesGrid = [];\n    _this.imagesToLoad = [];\n    _this.imagesLoaded = 0;\n    _this.wrapperLeft = 0;\n    _this.wrapperRight = 0;\n    _this.wrapperTop = 0;\n    _this.wrapperBottom = 0;\n    _this.isAndroid = navigator.userAgent.toLowerCase().indexOf('android') >= 0;\n    var wrapper, slideSize, wrapperSize, direction, isScrolling, containerSize;\n\n    /*=========================\n      Default Parameters\n      ===========================*/\n    var defaults = {\n        eventTarget: 'wrapper', // or 'container'\n        mode : 'horizontal', // or 'vertical'\n        touchRatio : 1,\n        speed : 300,\n        freeMode : false,\n        freeModeFluid : false,\n        momentumRatio: 1,\n        momentumBounce: true,\n        momentumBounceRatio: 1,\n        slidesPerView : 1,\n        slidesPerGroup : 1,\n        slidesPerViewFit: true, //Fit to slide when spv \"auto\" and slides larger than container\n        simulateTouch : true,\n        followFinger : true,\n        shortSwipes : true,\n        longSwipesRatio: 0.5,\n        moveStartThreshold: false,\n        onlyExternal : false,\n        createPagination : true,\n        pagination : false,\n        paginationElement: 'span',\n        paginationClickable: false,\n        paginationAsRange: true,\n        resistance : true, // or false or 100%\n        scrollContainer : false,\n        preventLinks : true,\n        preventLinksPropagation: false,\n        noSwiping : false, // or class\n        noSwipingClass : 'swiper-no-swiping', //:)\n        initialSlide: 0,\n        keyboardControl: false,\n        mousewheelControl : false,\n        mousewheelControlForceToAxis : false,\n        useCSS3Transforms : true,\n        // Autoplay\n        autoplay: false,\n        autoplayDisableOnInteraction: true,\n        autoplayStopOnLast: false,\n        //Loop mode\n        loop: false,\n        loopAdditionalSlides: 0,\n        // Round length values\n        roundLengths: false,\n        //Auto Height\n        calculateHeight: false,\n        //Apply CSS for width and/or height\n        cssWidthAndHeight: false, // or true or 'width' or 'height'\n        //Images Preloader\n        updateOnImagesReady : true,\n        //Form elements\n        releaseFormElements : true,\n        //Watch for active slide, useful when use effects on different slide states\n        watchActiveIndex: false,\n        //Slides Visibility Fit\n        visibilityFullFit : false,\n        //Slides Offset\n        offsetPxBefore : 0,\n        offsetPxAfter : 0,\n        offsetSlidesBefore : 0,\n        offsetSlidesAfter : 0,\n        centeredSlides: false,\n        //Queue callbacks\n        queueStartCallbacks : false,\n        queueEndCallbacks : false,\n        //Auto Resize\n        autoResize : true,\n        resizeReInit : false,\n        //DOMAnimation\n        DOMAnimation : true,\n        //Slides Loader\n        loader: {\n            slides: [], //array with slides\n            slidesHTMLType: 'inner', // or 'outer'\n            surroundGroups: 1, //keep preloaded slides groups around view\n            logic: 'reload', //or 'change'\n            loadAllSlides: false\n        },\n        // One way swipes\n        swipeToPrev: true,\n        swipeToNext: true,\n        //Namespace\n        slideElement: 'div',\n        slideClass: 'swiper-slide',\n        slideActiveClass: 'swiper-slide-active',\n        slideVisibleClass: 'swiper-slide-visible',\n        slideDuplicateClass: 'swiper-slide-duplicate',\n        wrapperClass: 'swiper-wrapper',\n        paginationElementClass: 'swiper-pagination-switch',\n        paginationActiveClass: 'swiper-active-switch',\n        paginationVisibleClass: 'swiper-visible-switch'\n    };\n    params = params || {};\n    for (var prop in defaults) {\n        if (prop in params && typeof params[prop] === 'object') {\n            for (var subProp in defaults[prop]) {\n                if (! (subProp in params[prop])) {\n                    params[prop][subProp] = defaults[prop][subProp];\n                }\n            }\n        }\n        else if (! (prop in params)) {\n            params[prop] = defaults[prop];\n        }\n    }\n    _this.params = params;\n    if (params.scrollContainer) {\n        params.freeMode = true;\n        params.freeModeFluid = true;\n    }\n    if (params.loop) {\n        params.resistance = '100%';\n    }\n    var isH = params.mode === 'horizontal';\n\n    /*=========================\n      Define Touch Events\n      ===========================*/\n    var desktopEvents = ['mousedown', 'mousemove', 'mouseup'];\n    if (_this.browser.ie10) desktopEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp'];\n    if (_this.browser.ie11) desktopEvents = ['pointerdown', 'pointermove', 'pointerup'];\n\n    _this.touchEvents = {\n        touchStart : _this.support.touch || !params.simulateTouch  ? 'touchstart' : desktopEvents[0],\n        touchMove : _this.support.touch || !params.simulateTouch ? 'touchmove' : desktopEvents[1],\n        touchEnd : _this.support.touch || !params.simulateTouch ? 'touchend' : desktopEvents[2]\n    };\n\n    /*=========================\n      Wrapper\n      ===========================*/\n    for (var i = _this.container.childNodes.length - 1; i >= 0; i--) {\n        if (_this.container.childNodes[i].className) {\n            var _wrapperClasses = _this.container.childNodes[i].className.split(/\\s+/);\n            for (var j = 0; j < _wrapperClasses.length; j++) {\n                if (_wrapperClasses[j] === params.wrapperClass) {\n                    wrapper = _this.container.childNodes[i];\n                }\n            }\n        }\n    }\n\n    _this.wrapper = wrapper;\n    /*=========================\n      Slide API\n      ===========================*/\n    _this._extendSwiperSlide = function  (el) {\n        el.append = function () {\n            if (params.loop) {\n                el.insertAfter(_this.slides.length - _this.loopedSlides);\n            }\n            else {\n                _this.wrapper.appendChild(el);\n                _this.reInit();\n            }\n\n            return el;\n        };\n        el.prepend = function () {\n            if (params.loop) {\n                _this.wrapper.insertBefore(el, _this.slides[_this.loopedSlides]);\n                _this.removeLoopedSlides();\n                _this.calcSlides();\n                _this.createLoop();\n            }\n            else {\n                _this.wrapper.insertBefore(el, _this.wrapper.firstChild);\n            }\n            _this.reInit();\n            return el;\n        };\n        el.insertAfter = function (index) {\n            if (typeof index === 'undefined') return false;\n            var beforeSlide;\n\n            if (params.loop) {\n                beforeSlide = _this.slides[index + 1 + _this.loopedSlides];\n                if (beforeSlide) {\n                    _this.wrapper.insertBefore(el, beforeSlide);\n                }\n                else {\n                    _this.wrapper.appendChild(el);\n                }\n                _this.removeLoopedSlides();\n                _this.calcSlides();\n                _this.createLoop();\n            }\n            else {\n                beforeSlide = _this.slides[index + 1];\n                _this.wrapper.insertBefore(el, beforeSlide);\n            }\n            _this.reInit();\n            return el;\n        };\n        el.clone = function () {\n            return _this._extendSwiperSlide(el.cloneNode(true));\n        };\n        el.remove = function () {\n            _this.wrapper.removeChild(el);\n            _this.reInit();\n        };\n        el.html = function (html) {\n            if (typeof html === 'undefined') {\n                return el.innerHTML;\n            }\n            else {\n                el.innerHTML = html;\n                return el;\n            }\n        };\n        el.index = function () {\n            var index;\n            for (var i = _this.slides.length - 1; i >= 0; i--) {\n                if (el === _this.slides[i]) index = i;\n            }\n            return index;\n        };\n        el.isActive = function () {\n            if (el.index() === _this.activeIndex) return true;\n            else return false;\n        };\n        if (!el.swiperSlideDataStorage) el.swiperSlideDataStorage = {};\n        el.getData = function (name) {\n            return el.swiperSlideDataStorage[name];\n        };\n        el.setData = function (name, value) {\n            el.swiperSlideDataStorage[name] = value;\n            return el;\n        };\n        el.data = function (name, value) {\n            if (typeof value === 'undefined') {\n                return el.getAttribute('data-' + name);\n            }\n            else {\n                el.setAttribute('data-' + name, value);\n                return el;\n            }\n        };\n        el.getWidth = function (outer, round) {\n            return _this.h.getWidth(el, outer, round);\n        };\n        el.getHeight = function (outer, round) {\n            return _this.h.getHeight(el, outer, round);\n        };\n        el.getOffset = function () {\n            return _this.h.getOffset(el);\n        };\n        return el;\n    };\n\n    //Calculate information about number of slides\n    _this.calcSlides = function (forceCalcSlides) {\n        var oldNumber = _this.slides ? _this.slides.length : false;\n        _this.slides = [];\n        _this.displaySlides = [];\n        for (var i = 0; i < _this.wrapper.childNodes.length; i++) {\n            if (_this.wrapper.childNodes[i].className) {\n                var _className = _this.wrapper.childNodes[i].className;\n                var _slideClasses = _className.split(/\\s+/);\n                for (var j = 0; j < _slideClasses.length; j++) {\n                    if (_slideClasses[j] === params.slideClass) {\n                        _this.slides.push(_this.wrapper.childNodes[i]);\n                    }\n                }\n            }\n        }\n        for (i = _this.slides.length - 1; i >= 0; i--) {\n            _this._extendSwiperSlide(_this.slides[i]);\n        }\n        if (oldNumber === false) return;\n        if (oldNumber !== _this.slides.length || forceCalcSlides) {\n\n            // Number of slides has been changed\n            removeSlideEvents();\n            addSlideEvents();\n            _this.updateActiveSlide();\n            if (_this.params.pagination) _this.createPagination();\n            _this.callPlugins('numberOfSlidesChanged');\n        }\n    };\n\n    //Create Slide\n    _this.createSlide = function (html, slideClassList, el) {\n        slideClassList = slideClassList || _this.params.slideClass;\n        el = el || params.slideElement;\n        var newSlide = document.createElement(el);\n        newSlide.innerHTML = html || '';\n        newSlide.className = slideClassList;\n        return _this._extendSwiperSlide(newSlide);\n    };\n\n    //Append Slide\n    _this.appendSlide = function (html, slideClassList, el) {\n        if (!html) return;\n        if (html.nodeType) {\n            return _this._extendSwiperSlide(html).append();\n        }\n        else {\n            return _this.createSlide(html, slideClassList, el).append();\n        }\n    };\n    _this.prependSlide = function (html, slideClassList, el) {\n        if (!html) return;\n        if (html.nodeType) {\n            return _this._extendSwiperSlide(html).prepend();\n        }\n        else {\n            return _this.createSlide(html, slideClassList, el).prepend();\n        }\n    };\n    _this.insertSlideAfter = function (index, html, slideClassList, el) {\n        if (typeof index === 'undefined') return false;\n        if (html.nodeType) {\n            return _this._extendSwiperSlide(html).insertAfter(index);\n        }\n        else {\n            return _this.createSlide(html, slideClassList, el).insertAfter(index);\n        }\n    };\n    _this.removeSlide = function (index) {\n        if (_this.slides[index]) {\n            if (params.loop) {\n                if (!_this.slides[index + _this.loopedSlides]) return false;\n                _this.slides[index + _this.loopedSlides].remove();\n                _this.removeLoopedSlides();\n                _this.calcSlides();\n                _this.createLoop();\n            }\n            else _this.slides[index].remove();\n            return true;\n        }\n        else return false;\n    };\n    _this.removeLastSlide = function () {\n        if (_this.slides.length > 0) {\n            if (params.loop) {\n                _this.slides[_this.slides.length - 1 - _this.loopedSlides].remove();\n                _this.removeLoopedSlides();\n                _this.calcSlides();\n                _this.createLoop();\n            }\n            else _this.slides[_this.slides.length - 1].remove();\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    _this.removeAllSlides = function () {\n        var num = _this.slides.length;\n        for (var i = _this.slides.length - 1; i >= 0; i--) {\n            _this.slides[i].remove();\n            if (i === num - 1) {\n                _this.setWrapperTranslate(0);\n            }\n        }\n    };\n    _this.getSlide = function (index) {\n        return _this.slides[index];\n    };\n    _this.getLastSlide = function () {\n        return _this.slides[_this.slides.length - 1];\n    };\n    _this.getFirstSlide = function () {\n        return _this.slides[0];\n    };\n\n    //Currently Active Slide\n    _this.activeSlide = function () {\n        return _this.slides[_this.activeIndex];\n    };\n\n    /*=========================\n     Wrapper for Callbacks : Allows additive callbacks via function arrays\n     ===========================*/\n    _this.fireCallback = function () {\n        var callback = arguments[0];\n        if (Object.prototype.toString.call(callback) === '[object Array]') {\n            for (var i = 0; i < callback.length; i++) {\n                if (typeof callback[i] === 'function') {\n                    callback[i](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n                }\n            }\n        } else if (Object.prototype.toString.call(callback) === '[object String]') {\n            if (params['on' + callback]) _this.fireCallback(params['on' + callback], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n        } else {\n            callback(arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n        }\n    };\n    function isArray(obj) {\n        if (Object.prototype.toString.apply(obj) === '[object Array]') return true;\n        return false;\n    }\n\n    /**\n     * Allows user to add callbacks, rather than replace them\n     * @param callback\n     * @param func\n     * @return {*}\n     */\n    _this.addCallback = function (callback, func) {\n        var _this = this, tempFunc;\n        if (_this.params['on' + callback]) {\n            if (isArray(this.params['on' + callback])) {\n                return this.params['on' + callback].push(func);\n            } else if (typeof this.params['on' + callback] === 'function') {\n                tempFunc = this.params['on' + callback];\n                this.params['on' + callback] = [];\n                this.params['on' + callback].push(tempFunc);\n                return this.params['on' + callback].push(func);\n            }\n        } else {\n            this.params['on' + callback] = [];\n            return this.params['on' + callback].push(func);\n        }\n    };\n    _this.removeCallbacks = function (callback) {\n        if (_this.params['on' + callback]) {\n            _this.params['on' + callback] = null;\n        }\n    };\n\n    /*=========================\n      Plugins API\n      ===========================*/\n    var _plugins = [];\n    for (var plugin in _this.plugins) {\n        if (params[plugin]) {\n            var p = _this.plugins[plugin](_this, params[plugin]);\n            if (p) _plugins.push(p);\n        }\n    }\n    _this.callPlugins = function (method, args) {\n        if (!args) args = {};\n        for (var i = 0; i < _plugins.length; i++) {\n            if (method in _plugins[i]) {\n                _plugins[i][method](args);\n            }\n        }\n    };\n\n    /*=========================\n      Windows Phone 8 Fix\n      ===========================*/\n    if ((_this.browser.ie10 || _this.browser.ie11) && !params.onlyExternal) {\n        _this.wrapper.classList.add('swiper-wp8-' + (isH ? 'horizontal' : 'vertical'));\n    }\n\n    /*=========================\n      Free Mode Class\n      ===========================*/\n    if (params.freeMode) {\n        _this.container.className += ' swiper-free-mode';\n    }\n\n    /*==================================================\n        Init/Re-init/Resize Fix\n    ====================================================*/\n    _this.initialized = false;\n    _this.init = function (force, forceCalcSlides) {\n        var _width = _this.h.getWidth(_this.container, false, params.roundLengths);\n        var _height = _this.h.getHeight(_this.container, false, params.roundLengths);\n        if (_width === _this.width && _height === _this.height && !force) return;\n\n        _this.width = _width;\n        _this.height = _height;\n\n        var slideWidth, slideHeight, slideMaxHeight, wrapperWidth, wrapperHeight, slideLeft;\n        var i; // loop index variable to avoid JSHint W004 / W038\n        containerSize = isH ? _width : _height;\n        var wrapper = _this.wrapper;\n\n        if (force) {\n            _this.calcSlides(forceCalcSlides);\n        }\n\n        if (params.slidesPerView === 'auto') {\n            //Auto mode\n            var slidesWidth = 0;\n            var slidesHeight = 0;\n\n            //Unset Styles\n            if (params.slidesOffset > 0) {\n                wrapper.style.paddingLeft = '';\n                wrapper.style.paddingRight = '';\n                wrapper.style.paddingTop = '';\n                wrapper.style.paddingBottom = '';\n            }\n            wrapper.style.width = '';\n            wrapper.style.height = '';\n            if (params.offsetPxBefore > 0) {\n                if (isH) _this.wrapperLeft = params.offsetPxBefore;\n                else _this.wrapperTop = params.offsetPxBefore;\n            }\n            if (params.offsetPxAfter > 0) {\n                if (isH) _this.wrapperRight = params.offsetPxAfter;\n                else _this.wrapperBottom = params.offsetPxAfter;\n            }\n\n            if (params.centeredSlides) {\n                if (isH) {\n                    _this.wrapperLeft = (containerSize - this.slides[0].getWidth(true, params.roundLengths)) / 2;\n                    _this.wrapperRight = (containerSize - _this.slides[_this.slides.length - 1].getWidth(true, params.roundLengths)) / 2;\n                }\n                else {\n                    _this.wrapperTop = (containerSize - _this.slides[0].getHeight(true, params.roundLengths)) / 2;\n                    _this.wrapperBottom = (containerSize - _this.slides[_this.slides.length - 1].getHeight(true, params.roundLengths)) / 2;\n                }\n            }\n\n            if (isH) {\n                if (_this.wrapperLeft >= 0) wrapper.style.paddingLeft = _this.wrapperLeft + 'px';\n                if (_this.wrapperRight >= 0) wrapper.style.paddingRight = _this.wrapperRight + 'px';\n            }\n            else {\n                if (_this.wrapperTop >= 0) wrapper.style.paddingTop = _this.wrapperTop + 'px';\n                if (_this.wrapperBottom >= 0) wrapper.style.paddingBottom = _this.wrapperBottom + 'px';\n            }\n            slideLeft = 0;\n            var centeredSlideLeft = 0;\n            _this.snapGrid = [];\n            _this.slidesGrid = [];\n\n            slideMaxHeight = 0;\n            for (i = 0; i < _this.slides.length; i++) {\n                slideWidth = _this.slides[i].getWidth(true, params.roundLengths);\n                slideHeight = _this.slides[i].getHeight(true, params.roundLengths);\n                if (params.calculateHeight) {\n                    slideMaxHeight = Math.max(slideMaxHeight, slideHeight);\n                }\n                var _slideSize = isH ? slideWidth : slideHeight;\n                if (params.centeredSlides) {\n                    var nextSlideWidth = i === _this.slides.length - 1 ? 0 : _this.slides[i + 1].getWidth(true, params.roundLengths);\n                    var nextSlideHeight = i === _this.slides.length - 1 ? 0 : _this.slides[i + 1].getHeight(true, params.roundLengths);\n                    var nextSlideSize = isH ? nextSlideWidth : nextSlideHeight;\n                    if (_slideSize > containerSize) {\n                        if (params.slidesPerViewFit) {\n                            _this.snapGrid.push(slideLeft + _this.wrapperLeft);\n                            _this.snapGrid.push(slideLeft + _slideSize - containerSize + _this.wrapperLeft);\n                        }\n                        else {\n                            for (var j = 0; j <= Math.floor(_slideSize / (containerSize + _this.wrapperLeft)); j++) {\n                                if (j === 0) _this.snapGrid.push(slideLeft + _this.wrapperLeft);\n                                else _this.snapGrid.push(slideLeft + _this.wrapperLeft + containerSize * j);\n                            }\n                        }\n                        _this.slidesGrid.push(slideLeft + _this.wrapperLeft);\n                    }\n                    else {\n                        _this.snapGrid.push(centeredSlideLeft);\n                        _this.slidesGrid.push(centeredSlideLeft);\n                    }\n                    centeredSlideLeft += _slideSize / 2 + nextSlideSize / 2;\n                }\n                else {\n                    if (_slideSize > containerSize) {\n                        if (params.slidesPerViewFit) {\n                            _this.snapGrid.push(slideLeft);\n                            _this.snapGrid.push(slideLeft + _slideSize - containerSize);\n                        }\n                        else {\n                            if (containerSize !== 0) {\n                                for (var k = 0; k <= Math.floor(_slideSize / containerSize); k++) {\n                                    _this.snapGrid.push(slideLeft + containerSize * k);\n                                }\n                            }\n                            else {\n                                _this.snapGrid.push(slideLeft);\n                            }\n                        }\n\n                    }\n                    else {\n                        _this.snapGrid.push(slideLeft);\n                    }\n                    _this.slidesGrid.push(slideLeft);\n                }\n\n                slideLeft += _slideSize;\n\n                slidesWidth += slideWidth;\n                slidesHeight += slideHeight;\n            }\n            if (params.calculateHeight) _this.height = slideMaxHeight;\n            if (isH) {\n                wrapperSize = slidesWidth + _this.wrapperRight + _this.wrapperLeft;\n                if (!params.cssWidthAndHeight || params.cssWidthAndHeight === 'height') {\n                    wrapper.style.width = (slidesWidth) + 'px';\n                }\n                if (!params.cssWidthAndHeight || params.cssWidthAndHeight === 'width') {\n                    wrapper.style.height = (_this.height) + 'px';\n                }\n            }\n            else {\n                if (!params.cssWidthAndHeight || params.cssWidthAndHeight === 'height') {\n                    wrapper.style.width = (_this.width) + 'px';\n                }\n                if (!params.cssWidthAndHeight || params.cssWidthAndHeight === 'width') {\n                    wrapper.style.height = (slidesHeight) + 'px';\n                }\n                wrapperSize = slidesHeight + _this.wrapperTop + _this.wrapperBottom;\n            }\n\n        }\n        else if (params.scrollContainer) {\n            //Scroll Container\n            wrapper.style.width = '';\n            wrapper.style.height = '';\n            wrapperWidth = _this.slides[0].getWidth(true, params.roundLengths);\n            wrapperHeight = _this.slides[0].getHeight(true, params.roundLengths);\n            wrapperSize = isH ? wrapperWidth : wrapperHeight;\n            wrapper.style.width = wrapperWidth + 'px';\n            wrapper.style.height = wrapperHeight + 'px';\n            slideSize = isH ? wrapperWidth : wrapperHeight;\n\n        }\n        else {\n            //For usual slides\n            if (params.calculateHeight) {\n                slideMaxHeight = 0;\n                wrapperHeight = 0;\n                //ResetWrapperSize\n                if (!isH) _this.container.style.height = '';\n                wrapper.style.height = '';\n\n                for (i = 0; i < _this.slides.length; i++) {\n                    //ResetSlideSize\n                    _this.slides[i].style.height = '';\n                    slideMaxHeight = Math.max(_this.slides[i].getHeight(true), slideMaxHeight);\n                    if (!isH) wrapperHeight += _this.slides[i].getHeight(true);\n                }\n                slideHeight = slideMaxHeight;\n                _this.height = slideHeight;\n\n                if (isH) wrapperHeight = slideHeight;\n                else {\n                    containerSize = slideHeight;\n                    _this.container.style.height = containerSize + 'px';\n                }\n            }\n            else {\n                slideHeight = isH ? _this.height : _this.height / params.slidesPerView;\n                if (params.roundLengths) slideHeight = Math.ceil(slideHeight);\n                wrapperHeight = isH ? _this.height : _this.slides.length * slideHeight;\n            }\n            slideWidth = isH ? _this.width / params.slidesPerView : _this.width;\n            if (params.roundLengths) slideWidth = Math.ceil(slideWidth);\n            wrapperWidth = isH ? _this.slides.length * slideWidth : _this.width;\n            slideSize = isH ? slideWidth : slideHeight;\n\n            if (params.offsetSlidesBefore > 0) {\n                if (isH) _this.wrapperLeft = slideSize * params.offsetSlidesBefore;\n                else _this.wrapperTop = slideSize * params.offsetSlidesBefore;\n            }\n            if (params.offsetSlidesAfter > 0) {\n                if (isH) _this.wrapperRight = slideSize * params.offsetSlidesAfter;\n                else _this.wrapperBottom = slideSize * params.offsetSlidesAfter;\n            }\n            if (params.offsetPxBefore > 0) {\n                if (isH) _this.wrapperLeft = params.offsetPxBefore;\n                else _this.wrapperTop = params.offsetPxBefore;\n            }\n            if (params.offsetPxAfter > 0) {\n                if (isH) _this.wrapperRight = params.offsetPxAfter;\n                else _this.wrapperBottom = params.offsetPxAfter;\n            }\n            if (params.centeredSlides) {\n                if (isH) {\n                    _this.wrapperLeft = (containerSize - slideSize) / 2;\n                    _this.wrapperRight = (containerSize - slideSize) / 2;\n                }\n                else {\n                    _this.wrapperTop = (containerSize - slideSize) / 2;\n                    _this.wrapperBottom = (containerSize - slideSize) / 2;\n                }\n            }\n            if (isH) {\n                if (_this.wrapperLeft > 0) wrapper.style.paddingLeft = _this.wrapperLeft + 'px';\n                if (_this.wrapperRight > 0) wrapper.style.paddingRight = _this.wrapperRight + 'px';\n            }\n            else {\n                if (_this.wrapperTop > 0) wrapper.style.paddingTop = _this.wrapperTop + 'px';\n                if (_this.wrapperBottom > 0) wrapper.style.paddingBottom = _this.wrapperBottom + 'px';\n            }\n\n            wrapperSize = isH ? wrapperWidth + _this.wrapperRight + _this.wrapperLeft : wrapperHeight + _this.wrapperTop + _this.wrapperBottom;\n            if (parseFloat(wrapperWidth) > 0 && (!params.cssWidthAndHeight || params.cssWidthAndHeight === 'height')) {\n                wrapper.style.width = wrapperWidth + 'px';\n            }\n            if (parseFloat(wrapperHeight) > 0 && (!params.cssWidthAndHeight || params.cssWidthAndHeight === 'width')) {\n                wrapper.style.height = wrapperHeight + 'px';\n            }\n            slideLeft = 0;\n            _this.snapGrid = [];\n            _this.slidesGrid = [];\n            for (i = 0; i < _this.slides.length; i++) {\n                _this.snapGrid.push(slideLeft);\n                _this.slidesGrid.push(slideLeft);\n                slideLeft += slideSize;\n                if (parseFloat(slideWidth) > 0 && (!params.cssWidthAndHeight || params.cssWidthAndHeight === 'height')) {\n                    _this.slides[i].style.width = slideWidth + 'px';\n                }\n                if (parseFloat(slideHeight) > 0 && (!params.cssWidthAndHeight || params.cssWidthAndHeight === 'width')) {\n                    _this.slides[i].style.height = slideHeight + 'px';\n                }\n            }\n\n        }\n\n        if (!_this.initialized) {\n            _this.callPlugins('onFirstInit');\n            if (params.onFirstInit) _this.fireCallback(params.onFirstInit, _this);\n        }\n        else {\n            _this.callPlugins('onInit');\n            if (params.onInit) _this.fireCallback(params.onInit, _this);\n        }\n        _this.initialized = true;\n    };\n\n    _this.reInit = function (forceCalcSlides) {\n        _this.init(true, forceCalcSlides);\n    };\n\n    _this.resizeFix = function (reInit) {\n        _this.callPlugins('beforeResizeFix');\n\n        _this.init(params.resizeReInit || reInit);\n\n        // swipe to active slide in fixed mode\n        if (!params.freeMode) {\n            _this.swipeTo((params.loop ? _this.activeLoopIndex : _this.activeIndex), 0, false);\n            // Fix autoplay\n            if (params.autoplay) {\n                if (_this.support.transitions && typeof autoplayTimeoutId !== 'undefined') {\n                    if (typeof autoplayTimeoutId !== 'undefined') {\n                        clearTimeout(autoplayTimeoutId);\n                        autoplayTimeoutId = undefined;\n                        _this.startAutoplay();\n                    }\n                }\n                else {\n                    if (typeof autoplayIntervalId !== 'undefined') {\n                        clearInterval(autoplayIntervalId);\n                        autoplayIntervalId = undefined;\n                        _this.startAutoplay();\n                    }\n                }\n            }\n        }\n        // move wrapper to the beginning in free mode\n        else if (_this.getWrapperTranslate() < -maxWrapperPosition()) {\n            _this.setWrapperTransition(0);\n            _this.setWrapperTranslate(-maxWrapperPosition());\n        }\n\n        _this.callPlugins('afterResizeFix');\n    };\n\n    /*==========================================\n        Max and Min Positions\n    ============================================*/\n    function maxWrapperPosition() {\n        var a = (wrapperSize - containerSize);\n        if (params.freeMode) {\n            a = wrapperSize - containerSize;\n        }\n        // if (params.loop) a -= containerSize;\n        if (params.slidesPerView > _this.slides.length && !params.centeredSlides) {\n            a = 0;\n        }\n        if (a < 0) a = 0;\n        return a;\n    }\n\n    /*==========================================\n        Event Listeners\n    ============================================*/\n    function initEvents() {\n        var bind = _this.h.addEventListener;\n        var eventTarget = params.eventTarget === 'wrapper' ? _this.wrapper : _this.container;\n        //Touch Events\n        if (! (_this.browser.ie10 || _this.browser.ie11)) {\n            if (_this.support.touch) {\n                bind(eventTarget, 'touchstart', onTouchStart);\n                bind(eventTarget, 'touchmove', onTouchMove);\n                bind(eventTarget, 'touchend', onTouchEnd);\n            }\n            if (params.simulateTouch) {\n                bind(eventTarget, 'mousedown', onTouchStart);\n                bind(document, 'mousemove', onTouchMove);\n                bind(document, 'mouseup', onTouchEnd);\n            }\n        }\n        else {\n            bind(eventTarget, _this.touchEvents.touchStart, onTouchStart);\n            bind(document, _this.touchEvents.touchMove, onTouchMove);\n            bind(document, _this.touchEvents.touchEnd, onTouchEnd);\n        }\n\n        //Resize Event\n        if (params.autoResize) {\n            bind(window, 'resize', _this.resizeFix);\n        }\n        //Slide Events\n        addSlideEvents();\n        //Mousewheel\n        _this._wheelEvent = false;\n        if (params.mousewheelControl) {\n            if (document.onmousewheel !== undefined) {\n                _this._wheelEvent = 'mousewheel';\n            }\n            if (!_this._wheelEvent) {\n                try {\n                    new WheelEvent('wheel');\n                    _this._wheelEvent = 'wheel';\n                } catch (e) {}\n            }\n            if (!_this._wheelEvent) {\n                _this._wheelEvent = 'DOMMouseScroll';\n            }\n            if (_this._wheelEvent) {\n                bind(_this.container, _this._wheelEvent, handleMousewheel);\n            }\n        }\n\n        //Keyboard\n\t\tfunction _loadImage(img) {\n\t\t\tvar image, src;\n\t\t\tvar onReady = function () {\n\t\t\t\tif (typeof _this === 'undefined' || _this === null) return;\n\t\t\t\tif (_this.imagesLoaded !== undefined) _this.imagesLoaded++;\n\t\t\t\tif (_this.imagesLoaded === _this.imagesToLoad.length) {\n\t\t\t\t\t_this.reInit();\n\t\t\t\t\tif (params.onImagesReady) _this.fireCallback(params.onImagesReady, _this);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (!img.complete) {\n\t\t\t\tsrc = (img.currentSrc || img.getAttribute('src'));\n\t\t\t\tif (src) {\n\t\t\t\t\timage = new Image();\n\t\t\t\t\timage.onload = onReady;\n\t\t\t\t\timage.onerror = onReady;\n\t\t\t\t\timage.src = src;\n\t\t\t\t} else {\n\t\t\t\t\tonReady();\n\t\t\t\t}\n\n\t\t\t} else {//image already loaded...\n\t\t\t\tonReady();\n\t\t\t}\n\t\t}\n\n\t\tif (params.keyboardControl) {\n\t\t\tbind(document, 'keydown', handleKeyboardKeys);\n\t\t}\n\t\tif (params.updateOnImagesReady) {\n\t\t\t_this.imagesToLoad = $$('img', _this.container);\n\n\t\t\tfor (var i = 0; i < _this.imagesToLoad.length; i++) {\n\t\t\t\t_loadImage(_this.imagesToLoad[i]);\n\t\t\t}\n\t\t}\n    }\n\n    //Remove Event Listeners\n    _this.destroy = function (removeStyles) {\n        var unbind = _this.h.removeEventListener;\n        var eventTarget = params.eventTarget === 'wrapper' ? _this.wrapper : _this.container;\n        //Touch Events\n        if (! (_this.browser.ie10 || _this.browser.ie11)) {\n            if (_this.support.touch) {\n                unbind(eventTarget, 'touchstart', onTouchStart);\n                unbind(eventTarget, 'touchmove', onTouchMove);\n                unbind(eventTarget, 'touchend', onTouchEnd);\n            }\n            if (params.simulateTouch) {\n                unbind(eventTarget, 'mousedown', onTouchStart);\n                unbind(document, 'mousemove', onTouchMove);\n                unbind(document, 'mouseup', onTouchEnd);\n            }\n        }\n        else {\n            unbind(eventTarget, _this.touchEvents.touchStart, onTouchStart);\n            unbind(document, _this.touchEvents.touchMove, onTouchMove);\n            unbind(document, _this.touchEvents.touchEnd, onTouchEnd);\n        }\n\n        //Resize Event\n        if (params.autoResize) {\n            unbind(window, 'resize', _this.resizeFix);\n        }\n\n        //Init Slide Events\n        removeSlideEvents();\n\n        //Pagination\n        if (params.paginationClickable) {\n            removePaginationEvents();\n        }\n\n        //Mousewheel\n        if (params.mousewheelControl && _this._wheelEvent) {\n            unbind(_this.container, _this._wheelEvent, handleMousewheel);\n        }\n\n        //Keyboard\n        if (params.keyboardControl) {\n            unbind(document, 'keydown', handleKeyboardKeys);\n        }\n\n        //Stop autoplay\n        if (params.autoplay) {\n            _this.stopAutoplay();\n        }\n        // Remove styles\n        if (removeStyles) {\n            _this.wrapper.removeAttribute('style');\n            for (var i = 0; i < _this.slides.length; i++) {\n                _this.slides[i].removeAttribute('style');\n            }\n        }\n        // Plugins\n        _this.callPlugins('onDestroy');\n\n        // Check jQuery/Zepto data\n        if (window.jQuery && window.jQuery(_this.container).data('swiper')) {\n            window.jQuery(_this.container).removeData('swiper');\n        }\n        if (window.Zepto && window.Zepto(_this.container).data('swiper')) {\n            window.Zepto(_this.container).removeData('swiper');\n        }\n\n        //Destroy variable\n        _this = null;\n    };\n\n    function addSlideEvents() {\n        var bind = _this.h.addEventListener,\n            i;\n\n        //Prevent Links Events\n        if (params.preventLinks) {\n            var links = $$('a', _this.container);\n            for (i = 0; i < links.length; i++) {\n                bind(links[i], 'click', preventClick);\n            }\n        }\n        //Release Form Elements\n        if (params.releaseFormElements) {\n            var formElements = $$('input, textarea, select', _this.container);\n            for (i = 0; i < formElements.length; i++) {\n                bind(formElements[i], _this.touchEvents.touchStart, releaseForms, true);\n                if (_this.support.touch && params.simulateTouch) {\n                    bind(formElements[i], 'mousedown', releaseForms, true);\n                }\n            }\n        }\n\n        //Slide Clicks & Touches\n        if (params.onSlideClick) {\n            for (i = 0; i < _this.slides.length; i++) {\n                bind(_this.slides[i], 'click', slideClick);\n            }\n        }\n        if (params.onSlideTouch) {\n            for (i = 0; i < _this.slides.length; i++) {\n                bind(_this.slides[i], _this.touchEvents.touchStart, slideTouch);\n            }\n        }\n    }\n    function removeSlideEvents() {\n        var unbind = _this.h.removeEventListener,\n            i;\n\n        //Slide Clicks & Touches\n        if (params.onSlideClick) {\n            for (i = 0; i < _this.slides.length; i++) {\n                unbind(_this.slides[i], 'click', slideClick);\n            }\n        }\n        if (params.onSlideTouch) {\n            for (i = 0; i < _this.slides.length; i++) {\n                unbind(_this.slides[i], _this.touchEvents.touchStart, slideTouch);\n            }\n        }\n        //Release Form Elements\n        if (params.releaseFormElements) {\n            var formElements = $$('input, textarea, select', _this.container);\n            for (i = 0; i < formElements.length; i++) {\n                unbind(formElements[i], _this.touchEvents.touchStart, releaseForms, true);\n                if (_this.support.touch && params.simulateTouch) {\n                    unbind(formElements[i], 'mousedown', releaseForms, true);\n                }\n            }\n        }\n        //Prevent Links Events\n        if (params.preventLinks) {\n            var links = $$('a', _this.container);\n            for (i = 0; i < links.length; i++) {\n                unbind(links[i], 'click', preventClick);\n            }\n        }\n    }\n    /*==========================================\n        Keyboard Control\n    ============================================*/\n    function handleKeyboardKeys(e) {\n        var kc = e.keyCode || e.charCode;\n        if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) return;\n        if (kc === 37 || kc === 39 || kc === 38 || kc === 40) {\n            var inView = false;\n            //Check that swiper should be inside of visible area of window\n            var swiperOffset = _this.h.getOffset(_this.container);\n            var scrollLeft = _this.h.windowScroll().left;\n            var scrollTop = _this.h.windowScroll().top;\n            var windowWidth = _this.h.windowWidth();\n            var windowHeight = _this.h.windowHeight();\n            var swiperCoord = [\n                [swiperOffset.left, swiperOffset.top],\n                [swiperOffset.left + _this.width, swiperOffset.top],\n                [swiperOffset.left, swiperOffset.top + _this.height],\n                [swiperOffset.left + _this.width, swiperOffset.top + _this.height]\n            ];\n            for (var i = 0; i < swiperCoord.length; i++) {\n                var point = swiperCoord[i];\n                if (\n                    point[0] >= scrollLeft && point[0] <= scrollLeft + windowWidth &&\n                    point[1] >= scrollTop && point[1] <= scrollTop + windowHeight\n                ) {\n                    inView = true;\n                }\n\n            }\n            if (!inView) return;\n        }\n        if (isH) {\n            if (kc === 37 || kc === 39) {\n                if (e.preventDefault) e.preventDefault();\n                else e.returnValue = false;\n            }\n            if (kc === 39) _this.swipeNext();\n            if (kc === 37) _this.swipePrev();\n        }\n        else {\n            if (kc === 38 || kc === 40) {\n                if (e.preventDefault) e.preventDefault();\n                else e.returnValue = false;\n            }\n            if (kc === 40) _this.swipeNext();\n            if (kc === 38) _this.swipePrev();\n        }\n    }\n\n    _this.disableKeyboardControl = function () {\n        params.keyboardControl = false;\n        _this.h.removeEventListener(document, 'keydown', handleKeyboardKeys);\n    };\n\n    _this.enableKeyboardControl = function () {\n        params.keyboardControl = true;\n        _this.h.addEventListener(document, 'keydown', handleKeyboardKeys);\n    };\n\n    /*==========================================\n        Mousewheel Control\n    ============================================*/\n    var lastScrollTime = (new Date()).getTime();\n    function handleMousewheel(e) {\n        var we = _this._wheelEvent;\n        var delta = 0;\n\n        //Opera & IE\n        if (e.detail) delta = -e.detail;\n        //WebKits\n        else if (we === 'mousewheel') {\n            if (params.mousewheelControlForceToAxis) {\n                if (isH) {\n                    if (Math.abs(e.wheelDeltaX) > Math.abs(e.wheelDeltaY)) delta = e.wheelDeltaX;\n                    else return;\n                }\n                else {\n                    if (Math.abs(e.wheelDeltaY) > Math.abs(e.wheelDeltaX)) delta = e.wheelDeltaY;\n                    else return;\n                }\n            }\n            else {\n                delta = e.wheelDelta;\n            }\n        }\n        //Old FireFox\n        else if (we === 'DOMMouseScroll') delta = -e.detail;\n        //New FireFox\n        else if (we === 'wheel') {\n            if (params.mousewheelControlForceToAxis) {\n                if (isH) {\n                    if (Math.abs(e.deltaX) > Math.abs(e.deltaY)) delta = -e.deltaX;\n                    else return;\n                }\n                else {\n                    if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) delta = -e.deltaY;\n                    else return;\n                }\n            }\n            else {\n                delta = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? - e.deltaX : - e.deltaY;\n            }\n        }\n\n        if (!params.freeMode) {\n            if ((new Date()).getTime() - lastScrollTime > 60) {\n                if (delta < 0) _this.swipeNext();\n                else _this.swipePrev();\n            }\n            lastScrollTime = (new Date()).getTime();\n\n        }\n        else {\n            //Freemode or scrollContainer:\n            var position = _this.getWrapperTranslate() + delta;\n\n            if (position > 0) position = 0;\n            if (position < -maxWrapperPosition()) position = -maxWrapperPosition();\n\n            _this.setWrapperTransition(0);\n            _this.setWrapperTranslate(position);\n            _this.updateActiveSlide(position);\n\n            // Return page scroll on edge positions\n            if (position === 0 || position === -maxWrapperPosition()) return;\n        }\n        if (params.autoplay) _this.stopAutoplay(true);\n\n        if (e.preventDefault) e.preventDefault();\n        else e.returnValue = false;\n        return false;\n    }\n    _this.disableMousewheelControl = function () {\n        if (!_this._wheelEvent) return false;\n        params.mousewheelControl = false;\n        _this.h.removeEventListener(_this.container, _this._wheelEvent, handleMousewheel);\n        return true;\n    };\n\n    _this.enableMousewheelControl = function () {\n        if (!_this._wheelEvent) return false;\n        params.mousewheelControl = true;\n        _this.h.addEventListener(_this.container, _this._wheelEvent, handleMousewheel);\n        return true;\n    };\n\n    /*=========================\n      Grab Cursor\n      ===========================*/\n    if (params.grabCursor) {\n        var containerStyle = _this.container.style;\n        containerStyle.cursor = 'move';\n        containerStyle.cursor = 'grab';\n        containerStyle.cursor = '-moz-grab';\n        containerStyle.cursor = '-webkit-grab';\n    }\n\n    /*=========================\n      Slides Events Handlers\n      ===========================*/\n\n    _this.allowSlideClick = true;\n    function slideClick(event) {\n        if (_this.allowSlideClick) {\n            setClickedSlide(event);\n            _this.fireCallback(params.onSlideClick, _this, event);\n        }\n    }\n\n    function slideTouch(event) {\n        setClickedSlide(event);\n        _this.fireCallback(params.onSlideTouch, _this, event);\n    }\n\n    function setClickedSlide(event) {\n\n        // IE 6-8 support\n        if (!event.currentTarget) {\n            var element = event.srcElement;\n            do {\n                if (element.className.indexOf(params.slideClass) > -1) {\n                    break;\n                }\n                element = element.parentNode;\n            } while (element);\n            _this.clickedSlide = element;\n        }\n        else {\n            _this.clickedSlide = event.currentTarget;\n        }\n\n        _this.clickedSlideIndex     = _this.slides.indexOf(_this.clickedSlide);\n        _this.clickedSlideLoopIndex = _this.clickedSlideIndex - (_this.loopedSlides || 0);\n    }\n\n    _this.allowLinks = true;\n    function preventClick(e) {\n        if (!_this.allowLinks) {\n            if (e.preventDefault) e.preventDefault();\n            else e.returnValue = false;\n            if (params.preventLinksPropagation && 'stopPropagation' in e) {\n                e.stopPropagation();\n            }\n            return false;\n        }\n    }\n    function releaseForms(e) {\n        if (e.stopPropagation) e.stopPropagation();\n        else e.returnValue = false;\n        return false;\n\n    }\n\n    /*==================================================\n        Event Handlers\n    ====================================================*/\n    var isTouchEvent = false;\n    var allowThresholdMove;\n    var allowMomentumBounce = true;\n    function onTouchStart(event) {\n        if (params.preventLinks) _this.allowLinks = true;\n        //Exit if slider is already was touched\n        if (_this.isTouched || params.onlyExternal) {\n            return false;\n        }\n\n        // Blur active elements\n        var eventTarget = event.target || event.srcElement;\n        if (document.activeElement && document.activeElement !== document.body) {\n            if (document.activeElement !== eventTarget) document.activeElement.blur();\n        }\n\n        // Form tag names\n        var formTagNames = ('input select textarea').split(' ');\n\n        // Check for no swiping\n        if (params.noSwiping && (eventTarget) && noSwipingSlide(eventTarget)) return false;\n        allowMomentumBounce = false;\n        //Check For Nested Swipers\n        _this.isTouched = true;\n        isTouchEvent = event.type === 'touchstart';\n\n        // prevent user enter with right and the swiper move (needs isTouchEvent)\n        if (!isTouchEvent && 'which' in event && event.which === 3) {\n            _this.isTouched = false;\n            return false;\n        }\n\n        if (!isTouchEvent || event.targetTouches.length === 1) {\n            _this.callPlugins('onTouchStartBegin');\n            if (!isTouchEvent && !_this.isAndroid && formTagNames.indexOf(eventTarget.tagName.toLowerCase()) < 0) {\n\n                if (event.preventDefault) event.preventDefault();\n                else event.returnValue = false;\n            }\n\n            var pageX = isTouchEvent ? event.targetTouches[0].pageX : (event.pageX || event.clientX);\n            var pageY = isTouchEvent ? event.targetTouches[0].pageY : (event.pageY || event.clientY);\n\n            //Start Touches to check the scrolling\n            _this.touches.startX = _this.touches.currentX = pageX;\n            _this.touches.startY = _this.touches.currentY = pageY;\n\n            _this.touches.start = _this.touches.current = isH ? pageX : pageY;\n\n            //Set Transition Time to 0\n            _this.setWrapperTransition(0);\n\n            //Get Start Translate Position\n            _this.positions.start = _this.positions.current = _this.getWrapperTranslate();\n\n            //Set Transform\n            _this.setWrapperTranslate(_this.positions.start);\n\n            //TouchStartTime\n            _this.times.start = (new Date()).getTime();\n\n            //Unset Scrolling\n            isScrolling = undefined;\n\n            //Set Treshold\n            if (params.moveStartThreshold > 0) {\n                allowThresholdMove = false;\n            }\n\n            //CallBack\n            if (params.onTouchStart) _this.fireCallback(params.onTouchStart, _this, event);\n            _this.callPlugins('onTouchStartEnd');\n\n        }\n    }\n    var velocityPrevPosition, velocityPrevTime;\n    function onTouchMove(event) {\n        // If slider is not touched - exit\n        if (!_this.isTouched || params.onlyExternal) return;\n        if (isTouchEvent && event.type === 'mousemove') return;\n\n        var pageX = isTouchEvent ? event.targetTouches[0].pageX : (event.pageX || event.clientX);\n        var pageY = isTouchEvent ? event.targetTouches[0].pageY : (event.pageY || event.clientY);\n\n        //check for scrolling\n        if (typeof isScrolling === 'undefined' && isH) {\n            isScrolling = !!(isScrolling || Math.abs(pageY - _this.touches.startY) > Math.abs(pageX - _this.touches.startX));\n        }\n        if (typeof isScrolling === 'undefined' && !isH) {\n            isScrolling = !!(isScrolling || Math.abs(pageY - _this.touches.startY) < Math.abs(pageX - _this.touches.startX));\n        }\n        if (isScrolling) {\n            _this.isTouched = false;\n            return;\n        }\n\n        // One way swipes\n        if (isH) {\n            if ((!params.swipeToNext && pageX < _this.touches.startX) || ((!params.swipeToPrev && pageX > _this.touches.startX))) {\n                return;\n            }\n        }\n        else {\n            if ((!params.swipeToNext && pageY < _this.touches.startY) || ((!params.swipeToPrev && pageY > _this.touches.startY))) {\n                return;\n            }\n        }\n\n        //Check For Nested Swipers\n        if (event.assignedToSwiper) {\n            _this.isTouched = false;\n            return;\n        }\n        event.assignedToSwiper = true;\n\n        //Block inner links\n        if (params.preventLinks) {\n            _this.allowLinks = false;\n        }\n        if (params.onSlideClick) {\n            _this.allowSlideClick = false;\n        }\n\n        //Stop AutoPlay if exist\n        if (params.autoplay) {\n            _this.stopAutoplay(true);\n        }\n        if (!isTouchEvent || event.touches.length === 1) {\n\n            //Moved Flag\n            if (!_this.isMoved) {\n                _this.callPlugins('onTouchMoveStart');\n\n                if (params.loop) {\n                    _this.fixLoop();\n                    _this.positions.start = _this.getWrapperTranslate();\n                }\n                if (params.onTouchMoveStart) _this.fireCallback(params.onTouchMoveStart, _this);\n            }\n            _this.isMoved = true;\n\n            // cancel event\n            if (event.preventDefault) event.preventDefault();\n            else event.returnValue = false;\n\n            _this.touches.current = isH ? pageX : pageY;\n\n            _this.positions.current = (_this.touches.current - _this.touches.start) * params.touchRatio + _this.positions.start;\n\n            //Resistance Callbacks\n            if (_this.positions.current > 0 && params.onResistanceBefore) {\n                _this.fireCallback(params.onResistanceBefore, _this, _this.positions.current);\n            }\n            if (_this.positions.current < -maxWrapperPosition() && params.onResistanceAfter) {\n                _this.fireCallback(params.onResistanceAfter, _this, Math.abs(_this.positions.current + maxWrapperPosition()));\n            }\n            //Resistance\n            if (params.resistance && params.resistance !== '100%') {\n                var resistance;\n                //Resistance for Negative-Back sliding\n                if (_this.positions.current > 0) {\n                    resistance = 1 - _this.positions.current / containerSize / 2;\n                    if (resistance < 0.5)\n                        _this.positions.current = (containerSize / 2);\n                    else\n                        _this.positions.current = _this.positions.current * resistance;\n                }\n                //Resistance for After-End Sliding\n                if (_this.positions.current < -maxWrapperPosition()) {\n\n                    var diff = (_this.touches.current - _this.touches.start) * params.touchRatio + (maxWrapperPosition() + _this.positions.start);\n                    resistance = (containerSize + diff) / (containerSize);\n                    var newPos = _this.positions.current - diff * (1 - resistance) / 2;\n                    var stopPos = -maxWrapperPosition() - containerSize / 2;\n\n                    if (newPos < stopPos || resistance <= 0)\n                        _this.positions.current = stopPos;\n                    else\n                        _this.positions.current = newPos;\n                }\n            }\n            if (params.resistance && params.resistance === '100%') {\n                //Resistance for Negative-Back sliding\n                if (_this.positions.current > 0 && !(params.freeMode && !params.freeModeFluid)) {\n                    _this.positions.current = 0;\n                }\n                //Resistance for After-End Sliding\n                if (_this.positions.current < -maxWrapperPosition() && !(params.freeMode && !params.freeModeFluid)) {\n                    _this.positions.current = -maxWrapperPosition();\n                }\n            }\n            //Move Slides\n            if (!params.followFinger) return;\n\n            if (!params.moveStartThreshold) {\n                _this.setWrapperTranslate(_this.positions.current);\n            }\n            else {\n                if (Math.abs(_this.touches.current - _this.touches.start) > params.moveStartThreshold || allowThresholdMove) {\n                    if (!allowThresholdMove) {\n                        allowThresholdMove = true;\n                        _this.touches.start = _this.touches.current;\n                        return;\n                    }\n                    _this.setWrapperTranslate(_this.positions.current);\n                }\n                else {\n                    _this.positions.current = _this.positions.start;\n                }\n            }\n\n            if (params.freeMode || params.watchActiveIndex) {\n                _this.updateActiveSlide(_this.positions.current);\n            }\n\n            //Grab Cursor\n            if (params.grabCursor) {\n                _this.container.style.cursor = 'move';\n                _this.container.style.cursor = 'grabbing';\n                _this.container.style.cursor = '-moz-grabbin';\n                _this.container.style.cursor = '-webkit-grabbing';\n            }\n            //Velocity\n            if (!velocityPrevPosition) velocityPrevPosition = _this.touches.current;\n            if (!velocityPrevTime) velocityPrevTime = (new Date()).getTime();\n            _this.velocity = (_this.touches.current - velocityPrevPosition) / ((new Date()).getTime() - velocityPrevTime) / 2;\n            if (Math.abs(_this.touches.current - velocityPrevPosition) < 2) _this.velocity = 0;\n            velocityPrevPosition = _this.touches.current;\n            velocityPrevTime = (new Date()).getTime();\n            //Callbacks\n            _this.callPlugins('onTouchMoveEnd');\n            if (params.onTouchMove) _this.fireCallback(params.onTouchMove, _this, event);\n\n            return false;\n        }\n    }\n    function onTouchEnd(event) {\n        //Check For scrolling\n        if (isScrolling) {\n            _this.swipeReset();\n        }\n        // If slider is not touched exit\n        if (params.onlyExternal || !_this.isTouched) return;\n        _this.isTouched = false;\n\n        //Return Grab Cursor\n        if (params.grabCursor) {\n            _this.container.style.cursor = 'move';\n            _this.container.style.cursor = 'grab';\n            _this.container.style.cursor = '-moz-grab';\n            _this.container.style.cursor = '-webkit-grab';\n        }\n\n        //Check for Current Position\n        if (!_this.positions.current && _this.positions.current !== 0) {\n            _this.positions.current = _this.positions.start;\n        }\n\n        //For case if slider touched but not moved\n        if (params.followFinger) {\n            _this.setWrapperTranslate(_this.positions.current);\n        }\n\n        // TouchEndTime\n        _this.times.end = (new Date()).getTime();\n\n        //Difference\n        _this.touches.diff = _this.touches.current - _this.touches.start;\n        _this.touches.abs = Math.abs(_this.touches.diff);\n\n        _this.positions.diff = _this.positions.current - _this.positions.start;\n        _this.positions.abs = Math.abs(_this.positions.diff);\n\n        var diff = _this.positions.diff;\n        var diffAbs = _this.positions.abs;\n        var timeDiff = _this.times.end - _this.times.start;\n\n        if (diffAbs < 5 && (timeDiff) < 300 && _this.allowLinks === false) {\n            if (!params.freeMode && diffAbs !== 0) _this.swipeReset();\n            //Release inner links\n            if (params.preventLinks) {\n                _this.allowLinks = true;\n            }\n            if (params.onSlideClick) {\n                _this.allowSlideClick = true;\n            }\n        }\n\n        setTimeout(function () {\n            //Release inner links\n            if (typeof _this === 'undefined' || _this === null) return;\n            if (params.preventLinks) {\n                _this.allowLinks = true;\n            }\n            if (params.onSlideClick) {\n                _this.allowSlideClick = true;\n            }\n        }, 100);\n\n        var maxPosition = maxWrapperPosition();\n\n        //Not moved or Prevent Negative Back Sliding/After-End Sliding\n        if (!_this.isMoved && params.freeMode) {\n            _this.isMoved = false;\n            if (params.onTouchEnd) _this.fireCallback(params.onTouchEnd, _this, event);\n            _this.callPlugins('onTouchEnd');\n            return;\n        }\n        if (!_this.isMoved || _this.positions.current > 0 || _this.positions.current < -maxPosition) {\n            _this.swipeReset();\n            if (params.onTouchEnd) _this.fireCallback(params.onTouchEnd, _this, event);\n            _this.callPlugins('onTouchEnd');\n            return;\n        }\n\n        _this.isMoved = false;\n\n        //Free Mode\n        if (params.freeMode) {\n            if (params.freeModeFluid) {\n                var momentumDuration = 1000 * params.momentumRatio;\n                var momentumDistance = _this.velocity * momentumDuration;\n                var newPosition = _this.positions.current + momentumDistance;\n                var doBounce = false;\n                var afterBouncePosition;\n                var bounceAmount = Math.abs(_this.velocity) * 20 * params.momentumBounceRatio;\n                if (newPosition < -maxPosition) {\n                    if (params.momentumBounce && _this.support.transitions) {\n                        if (newPosition + maxPosition < -bounceAmount) newPosition = -maxPosition - bounceAmount;\n                        afterBouncePosition = -maxPosition;\n                        doBounce = true;\n                        allowMomentumBounce = true;\n                    }\n                    else newPosition = -maxPosition;\n                }\n                if (newPosition > 0) {\n                    if (params.momentumBounce && _this.support.transitions) {\n                        if (newPosition > bounceAmount) newPosition = bounceAmount;\n                        afterBouncePosition = 0;\n                        doBounce = true;\n                        allowMomentumBounce = true;\n                    }\n                    else newPosition = 0;\n                }\n                //Fix duration\n                if (_this.velocity !== 0) momentumDuration = Math.abs((newPosition - _this.positions.current) / _this.velocity);\n\n                _this.setWrapperTranslate(newPosition);\n\n                _this.setWrapperTransition(momentumDuration);\n\n                if (params.momentumBounce && doBounce) {\n                    _this.wrapperTransitionEnd(function () {\n                        if (!allowMomentumBounce) return;\n                        if (params.onMomentumBounce) _this.fireCallback(params.onMomentumBounce, _this);\n                        _this.callPlugins('onMomentumBounce');\n\n                        _this.setWrapperTranslate(afterBouncePosition);\n                        _this.setWrapperTransition(300);\n                    });\n                }\n\n                _this.updateActiveSlide(newPosition);\n            }\n            if (!params.freeModeFluid || timeDiff >= 300) _this.updateActiveSlide(_this.positions.current);\n\n            if (params.onTouchEnd) _this.fireCallback(params.onTouchEnd, _this, event);\n            _this.callPlugins('onTouchEnd');\n            return;\n        }\n\n        //Direction\n        direction = diff < 0 ? 'toNext' : 'toPrev';\n\n        //Short Touches\n        if (direction === 'toNext' && (timeDiff <= 300)) {\n            if (diffAbs < 30 || !params.shortSwipes) _this.swipeReset();\n            else _this.swipeNext(true, true);\n        }\n\n        if (direction === 'toPrev' && (timeDiff <= 300)) {\n            if (diffAbs < 30 || !params.shortSwipes) _this.swipeReset();\n            else _this.swipePrev(true, true);\n        }\n\n        //Long Touches\n        var targetSlideSize = 0;\n        if (params.slidesPerView === 'auto') {\n            //Define current slide's width\n            var currentPosition = Math.abs(_this.getWrapperTranslate());\n            var slidesOffset = 0;\n            var _slideSize;\n            for (var i = 0; i < _this.slides.length; i++) {\n                _slideSize = isH ? _this.slides[i].getWidth(true, params.roundLengths) : _this.slides[i].getHeight(true, params.roundLengths);\n                slidesOffset += _slideSize;\n                if (slidesOffset > currentPosition) {\n                    targetSlideSize = _slideSize;\n                    break;\n                }\n            }\n            if (targetSlideSize > containerSize) targetSlideSize = containerSize;\n        }\n        else {\n            targetSlideSize = slideSize * params.slidesPerView;\n        }\n        if (direction === 'toNext' && (timeDiff > 300)) {\n            if (diffAbs >= targetSlideSize * params.longSwipesRatio) {\n                _this.swipeNext(true, true);\n            }\n            else {\n                _this.swipeReset();\n            }\n        }\n        if (direction === 'toPrev' && (timeDiff > 300)) {\n            if (diffAbs >= targetSlideSize * params.longSwipesRatio) {\n                _this.swipePrev(true, true);\n            }\n            else {\n                _this.swipeReset();\n            }\n        }\n        if (params.onTouchEnd) _this.fireCallback(params.onTouchEnd, _this, event);\n        _this.callPlugins('onTouchEnd');\n    }\n\n\n    /*==================================================\n        noSwiping Bubble Check by Isaac Strack\n    ====================================================*/\n    function hasClass(el, classname) {\n        return el && el.getAttribute('class') && el.getAttribute('class').indexOf(classname) > -1;\n    }\n    function noSwipingSlide(el) {\n        /*This function is specifically designed to check the parent elements for the noSwiping class, up to the wrapper.\n        We need to check parents because while onTouchStart bubbles, _this.isTouched is checked in onTouchStart, which stops the bubbling.\n        So, if a text box, for example, is the initial target, and the parent slide container has the noSwiping class, the _this.isTouched\n        check will never find it, and what was supposed to be noSwiping is able to be swiped.\n        This function will iterate up and check for the noSwiping class in parents, up through the wrapperClass.*/\n\n        // First we create a truthy variable, which is that swiping is allowd (noSwiping = false)\n        var noSwiping = false;\n\n        // Now we iterate up (parentElements) until we reach the node with the wrapperClass.\n        do {\n\n            // Each time, we check to see if there's a 'swiper-no-swiping' class (noSwipingClass).\n            if (hasClass(el, params.noSwipingClass))\n            {\n                noSwiping = true; // If there is, we set noSwiping = true;\n            }\n\n            el = el.parentElement;  // now we iterate up (parent node)\n\n        } while (!noSwiping && el.parentElement && !hasClass(el, params.wrapperClass)); // also include el.parentElement truthy, just in case.\n\n        // because we didn't check the wrapper itself, we do so now, if noSwiping is false:\n        if (!noSwiping && hasClass(el, params.wrapperClass) && hasClass(el, params.noSwipingClass))\n            noSwiping = true; // if the wrapper has the noSwipingClass, we set noSwiping = true;\n\n        return noSwiping;\n    }\n\n    function addClassToHtmlString(klass, outerHtml) {\n        var par = document.createElement('div');\n        var child;\n\n        par.innerHTML = outerHtml;\n        child = par.firstChild;\n        child.className += ' ' + klass;\n\n        return child.outerHTML;\n    }\n\n\n    /*==================================================\n        Swipe Functions\n    ====================================================*/\n    _this.swipeNext = function (runCallbacks, internal) {\n        if (typeof runCallbacks === 'undefined') runCallbacks = true;\n        if (!internal && params.loop) _this.fixLoop();\n        if (!internal && params.autoplay) _this.stopAutoplay(true);\n        _this.callPlugins('onSwipeNext');\n        var currentPosition = _this.getWrapperTranslate().toFixed(2);\n        var newPosition = currentPosition;\n        if (params.slidesPerView === 'auto') {\n            for (var i = 0; i < _this.snapGrid.length; i++) {\n                if (-currentPosition >= _this.snapGrid[i].toFixed(2) && -currentPosition < _this.snapGrid[i + 1].toFixed(2)) {\n                    newPosition = -_this.snapGrid[i + 1];\n                    break;\n                }\n            }\n        }\n        else {\n            var groupSize = slideSize * params.slidesPerGroup;\n            newPosition = -(Math.floor(Math.abs(currentPosition) / Math.floor(groupSize)) * groupSize + groupSize);\n        }\n        if (newPosition < -maxWrapperPosition()) {\n            newPosition = -maxWrapperPosition();\n        }\n        if (newPosition === currentPosition) return false;\n        swipeToPosition(newPosition, 'next', {runCallbacks: runCallbacks});\n        return true;\n    };\n    _this.swipePrev = function (runCallbacks, internal) {\n        if (typeof runCallbacks === 'undefined') runCallbacks = true;\n        if (!internal && params.loop) _this.fixLoop();\n        if (!internal && params.autoplay) _this.stopAutoplay(true);\n        _this.callPlugins('onSwipePrev');\n\n        var currentPosition = Math.ceil(_this.getWrapperTranslate());\n        var newPosition;\n        if (params.slidesPerView === 'auto') {\n            newPosition = 0;\n            for (var i = 1; i < _this.snapGrid.length; i++) {\n                if (-currentPosition === _this.snapGrid[i]) {\n                    newPosition = -_this.snapGrid[i - 1];\n                    break;\n                }\n                if (-currentPosition > _this.snapGrid[i] && -currentPosition < _this.snapGrid[i + 1]) {\n                    newPosition = -_this.snapGrid[i];\n                    break;\n                }\n            }\n        }\n        else {\n            var groupSize = slideSize * params.slidesPerGroup;\n            newPosition = -(Math.ceil(-currentPosition / groupSize) - 1) * groupSize;\n        }\n\n        if (newPosition > 0) newPosition = 0;\n\n        if (newPosition === currentPosition) return false;\n        swipeToPosition(newPosition, 'prev', {runCallbacks: runCallbacks});\n        return true;\n\n    };\n    _this.swipeReset = function (runCallbacks) {\n        if (typeof runCallbacks === 'undefined') runCallbacks = true;\n        _this.callPlugins('onSwipeReset');\n        var currentPosition = _this.getWrapperTranslate();\n        var groupSize = slideSize * params.slidesPerGroup;\n        var newPosition;\n        var maxPosition = -maxWrapperPosition();\n        if (params.slidesPerView === 'auto') {\n            newPosition = 0;\n            for (var i = 0; i < _this.snapGrid.length; i++) {\n                if (-currentPosition === _this.snapGrid[i]) return;\n                if (-currentPosition >= _this.snapGrid[i] && -currentPosition < _this.snapGrid[i + 1]) {\n                    if (_this.positions.diff > 0) newPosition = -_this.snapGrid[i + 1];\n                    else newPosition = -_this.snapGrid[i];\n                    break;\n                }\n            }\n            if (-currentPosition >= _this.snapGrid[_this.snapGrid.length - 1]) newPosition = -_this.snapGrid[_this.snapGrid.length - 1];\n            if (currentPosition <= -maxWrapperPosition()) newPosition = -maxWrapperPosition();\n        }\n        else {\n            newPosition = currentPosition < 0 ? Math.round(currentPosition / groupSize) * groupSize : 0;\n            if (currentPosition <= -maxWrapperPosition()) newPosition = -maxWrapperPosition();\n        }\n        if (params.scrollContainer)  {\n            newPosition = currentPosition < 0 ? currentPosition : 0;\n        }\n        if (newPosition < -maxWrapperPosition()) {\n            newPosition = -maxWrapperPosition();\n        }\n        if (params.scrollContainer && (containerSize > slideSize)) {\n            newPosition = 0;\n        }\n\n        if (newPosition === currentPosition) return false;\n\n        swipeToPosition(newPosition, 'reset', {runCallbacks: runCallbacks});\n        return true;\n    };\n\n    _this.swipeTo = function (index, speed, runCallbacks) {\n        index = parseInt(index, 10);\n        _this.callPlugins('onSwipeTo', {index: index, speed: speed});\n        if (params.loop) index = index + _this.loopedSlides;\n        var currentPosition = _this.getWrapperTranslate();\n        if (!isFinite(index) || index > (_this.slides.length - 1) || index < 0) return;\n        var newPosition;\n        if (params.slidesPerView === 'auto') {\n            newPosition = -_this.slidesGrid[index];\n        }\n        else {\n            newPosition = -index * slideSize;\n        }\n        if (newPosition < - maxWrapperPosition()) {\n            newPosition = - maxWrapperPosition();\n        }\n\n        if (newPosition === currentPosition) return false;\n\n        if (typeof runCallbacks === 'undefined') runCallbacks = true;\n        swipeToPosition(newPosition, 'to', {index: index, speed: speed, runCallbacks: runCallbacks});\n        return true;\n    };\n\n    function swipeToPosition(newPosition, action, toOptions) {\n        var speed = (action === 'to' && toOptions.speed >= 0) ? toOptions.speed : params.speed;\n        var timeOld = + new Date();\n\n        function anim() {\n            var timeNew = + new Date();\n            var time = timeNew - timeOld;\n            currentPosition += animationStep * time / (1000 / 60);\n            condition = direction === 'toNext' ? currentPosition > newPosition : currentPosition < newPosition;\n            if (condition) {\n                _this.setWrapperTranslate(Math.ceil(currentPosition));\n                _this._DOMAnimating = true;\n                window.setTimeout(function () {\n                    anim();\n                }, 1000 / 60);\n            }\n            else {\n                if (params.onSlideChangeEnd) {\n                    if (action === 'to') {\n                        if (toOptions.runCallbacks === true) _this.fireCallback(params.onSlideChangeEnd, _this, direction);\n                    }\n                    else {\n                        _this.fireCallback(params.onSlideChangeEnd, _this, direction);\n                    }\n\n                }\n                _this.setWrapperTranslate(newPosition);\n                _this._DOMAnimating = false;\n            }\n        }\n\n        if (_this.support.transitions || !params.DOMAnimation) {\n            _this.setWrapperTranslate(newPosition);\n            _this.setWrapperTransition(speed);\n        }\n        else {\n            //Try the DOM animation\n            var currentPosition = _this.getWrapperTranslate();\n            var animationStep = Math.ceil((newPosition - currentPosition) / speed * (1000 / 60));\n            var direction = currentPosition > newPosition ? 'toNext' : 'toPrev';\n            var condition = direction === 'toNext' ? currentPosition > newPosition : currentPosition < newPosition;\n            if (_this._DOMAnimating) return;\n\n            anim();\n        }\n\n        //Update Active Slide Index\n        _this.updateActiveSlide(newPosition);\n\n        //Callbacks\n        if (params.onSlideNext && action === 'next' && toOptions.runCallbacks === true) {\n            _this.fireCallback(params.onSlideNext, _this, newPosition);\n        }\n        if (params.onSlidePrev && action === 'prev' && toOptions.runCallbacks === true) {\n            _this.fireCallback(params.onSlidePrev, _this, newPosition);\n        }\n        //'Reset' Callback\n        if (params.onSlideReset && action === 'reset' && toOptions.runCallbacks === true) {\n            _this.fireCallback(params.onSlideReset, _this, newPosition);\n        }\n\n        //'Next', 'Prev' and 'To' Callbacks\n        if ((action === 'next' || action === 'prev' || action === 'to') && toOptions.runCallbacks === true)\n            slideChangeCallbacks(action);\n    }\n    /*==================================================\n        Transition Callbacks\n    ====================================================*/\n    //Prevent Multiple Callbacks\n    _this._queueStartCallbacks = false;\n    _this._queueEndCallbacks = false;\n    function slideChangeCallbacks(direction) {\n        //Transition Start Callback\n        _this.callPlugins('onSlideChangeStart');\n        if (params.onSlideChangeStart) {\n            if (params.queueStartCallbacks && _this.support.transitions) {\n                if (_this._queueStartCallbacks) return;\n                _this._queueStartCallbacks = true;\n                _this.fireCallback(params.onSlideChangeStart, _this, direction);\n                _this.wrapperTransitionEnd(function () {\n                    _this._queueStartCallbacks = false;\n                });\n            }\n            else _this.fireCallback(params.onSlideChangeStart, _this, direction);\n        }\n        //Transition End Callback\n        if (params.onSlideChangeEnd) {\n            if (_this.support.transitions) {\n                if (params.queueEndCallbacks) {\n                    if (_this._queueEndCallbacks) return;\n                    _this._queueEndCallbacks = true;\n                    _this.wrapperTransitionEnd(function (swiper) {\n                        _this.fireCallback(params.onSlideChangeEnd, swiper, direction);\n                    });\n                }\n                else {\n                    _this.wrapperTransitionEnd(function (swiper) {\n                        _this.fireCallback(params.onSlideChangeEnd, swiper, direction);\n                    });\n                }\n            }\n            else {\n                if (!params.DOMAnimation) {\n                    setTimeout(function () {\n                        _this.fireCallback(params.onSlideChangeEnd, _this, direction);\n                    }, 10);\n                }\n            }\n        }\n    }\n\n    /*==================================================\n        Update Active Slide Index\n    ====================================================*/\n    _this.updateActiveSlide = function (position) {\n        if (!_this.initialized) return;\n        if (_this.slides.length === 0) return;\n        _this.previousIndex = _this.activeIndex;\n        if (typeof position === 'undefined') position = _this.getWrapperTranslate();\n        if (position > 0) position = 0;\n        var i;\n        if (params.slidesPerView === 'auto') {\n            var slidesOffset = 0;\n            _this.activeIndex = _this.slidesGrid.indexOf(-position);\n            if (_this.activeIndex < 0) {\n                for (i = 0; i < _this.slidesGrid.length - 1; i++) {\n                    if (-position > _this.slidesGrid[i] && -position < _this.slidesGrid[i + 1]) {\n                        break;\n                    }\n                }\n                var leftDistance = Math.abs(_this.slidesGrid[i] + position);\n                var rightDistance = Math.abs(_this.slidesGrid[i + 1] + position);\n                if (leftDistance <= rightDistance) _this.activeIndex = i;\n                else _this.activeIndex = i + 1;\n            }\n        }\n        else {\n            _this.activeIndex = Math[params.visibilityFullFit ? 'ceil' : 'round'](-position / slideSize);\n        }\n\n        if (_this.activeIndex === _this.slides.length) _this.activeIndex = _this.slides.length - 1;\n        if (_this.activeIndex < 0) _this.activeIndex = 0;\n\n        // Check for slide\n        if (!_this.slides[_this.activeIndex]) return;\n\n        // Calc Visible slides\n        _this.calcVisibleSlides(position);\n\n        // Mark visible and active slides with additonal classes\n        if (_this.support.classList) {\n            var slide;\n            for (i = 0; i < _this.slides.length; i++) {\n                slide = _this.slides[i];\n                slide.classList.remove(params.slideActiveClass);\n                if (_this.visibleSlides.indexOf(slide) >= 0) {\n                    slide.classList.add(params.slideVisibleClass);\n                } else {\n                    slide.classList.remove(params.slideVisibleClass);\n                }\n            }\n            _this.slides[_this.activeIndex].classList.add(params.slideActiveClass);\n        } else {\n            var activeClassRegexp = new RegExp('\\\\s*' + params.slideActiveClass);\n            var inViewClassRegexp = new RegExp('\\\\s*' + params.slideVisibleClass);\n\n            for (i = 0; i < _this.slides.length; i++) {\n                _this.slides[i].className = _this.slides[i].className.replace(activeClassRegexp, '').replace(inViewClassRegexp, '');\n                if (_this.visibleSlides.indexOf(_this.slides[i]) >= 0) {\n                    _this.slides[i].className += ' ' + params.slideVisibleClass;\n                }\n            }\n            _this.slides[_this.activeIndex].className += ' ' + params.slideActiveClass;\n        }\n\n        //Update loop index\n        if (params.loop) {\n            var ls = _this.loopedSlides;\n            _this.activeLoopIndex = _this.activeIndex - ls;\n            if (_this.activeLoopIndex >= _this.slides.length - ls * 2) {\n                _this.activeLoopIndex = _this.slides.length - ls * 2 - _this.activeLoopIndex;\n            }\n            if (_this.activeLoopIndex < 0) {\n                _this.activeLoopIndex = _this.slides.length - ls * 2 + _this.activeLoopIndex;\n            }\n            if (_this.activeLoopIndex < 0) _this.activeLoopIndex = 0;\n        }\n        else {\n            _this.activeLoopIndex = _this.activeIndex;\n        }\n        //Update Pagination\n        if (params.pagination) {\n            _this.updatePagination(position);\n        }\n    };\n    /*==================================================\n        Pagination\n    ====================================================*/\n    _this.createPagination = function (firstInit) {\n        if (params.paginationClickable && _this.paginationButtons) {\n            removePaginationEvents();\n        }\n        _this.paginationContainer = params.pagination.nodeType ? params.pagination : $$(params.pagination)[0];\n        if (params.createPagination) {\n            var paginationHTML = '';\n            var numOfSlides = _this.slides.length;\n            var numOfButtons = numOfSlides;\n            if (params.loop) numOfButtons -= _this.loopedSlides * 2;\n            for (var i = 0; i < numOfButtons; i++) {\n                paginationHTML += '<' + params.paginationElement + ' class=\"' + params.paginationElementClass + '\"></' + params.paginationElement + '>';\n            }\n            _this.paginationContainer.innerHTML = paginationHTML;\n        }\n        _this.paginationButtons = $$('.' + params.paginationElementClass, _this.paginationContainer);\n        if (!firstInit) _this.updatePagination();\n        _this.callPlugins('onCreatePagination');\n        if (params.paginationClickable) {\n            addPaginationEvents();\n        }\n    };\n    function removePaginationEvents() {\n        var pagers = _this.paginationButtons;\n        if (pagers) {\n            for (var i = 0; i < pagers.length; i++) {\n                _this.h.removeEventListener(pagers[i], 'click', paginationClick);\n            }\n        }\n    }\n    function addPaginationEvents() {\n        var pagers = _this.paginationButtons;\n        if (pagers) {\n            for (var i = 0; i < pagers.length; i++) {\n                _this.h.addEventListener(pagers[i], 'click', paginationClick);\n            }\n        }\n    }\n    function paginationClick(e) {\n        var index;\n        var target = e.target || e.srcElement;\n        var pagers = _this.paginationButtons;\n        for (var i = 0; i < pagers.length; i++) {\n            if (target === pagers[i]) index = i;\n        }\n        if (params.autoplay) _this.stopAutoplay(true);\n        _this.swipeTo(index);\n    }\n    _this.updatePagination = function (position) {\n        if (!params.pagination) return;\n        if (_this.slides.length < 1) return;\n        var activePagers = $$('.' + params.paginationActiveClass, _this.paginationContainer);\n        if (!activePagers) return;\n\n        //Reset all Buttons' class to not active\n        var pagers = _this.paginationButtons;\n        if (pagers.length === 0) return;\n        for (var i = 0; i < pagers.length; i++) {\n            pagers[i].className = params.paginationElementClass;\n        }\n\n        var indexOffset = params.loop ? _this.loopedSlides : 0;\n        if (params.paginationAsRange) {\n            if (!_this.visibleSlides) _this.calcVisibleSlides(position);\n            //Get Visible Indexes\n            var visibleIndexes = [];\n            var j; // lopp index - avoid JSHint W004 / W038\n            for (j = 0; j < _this.visibleSlides.length; j++) {\n                var visIndex = _this.slides.indexOf(_this.visibleSlides[j]) - indexOffset;\n\n                if (params.loop && visIndex < 0) {\n                    visIndex = _this.slides.length - _this.loopedSlides * 2 + visIndex;\n                }\n                if (params.loop && visIndex >= _this.slides.length - _this.loopedSlides * 2) {\n                    visIndex = _this.slides.length - _this.loopedSlides * 2 - visIndex;\n                    visIndex = Math.abs(visIndex);\n                }\n                visibleIndexes.push(visIndex);\n            }\n\n            for (j = 0; j < visibleIndexes.length; j++) {\n                if (pagers[visibleIndexes[j]]) pagers[visibleIndexes[j]].className += ' ' + params.paginationVisibleClass;\n            }\n\n            if (params.loop) {\n                if (pagers[_this.activeLoopIndex] !== undefined) {\n                    pagers[_this.activeLoopIndex].className += ' ' + params.paginationActiveClass;\n                }\n            }\n            else {\n                if (pagers[_this.activeIndex]) pagers[_this.activeIndex].className += ' ' + params.paginationActiveClass;\n            }\n        }\n        else {\n            if (params.loop) {\n                if (pagers[_this.activeLoopIndex]) pagers[_this.activeLoopIndex].className += ' ' + params.paginationActiveClass + ' ' + params.paginationVisibleClass;\n            }\n            else {\n                if (pagers[_this.activeIndex]) pagers[_this.activeIndex].className += ' ' + params.paginationActiveClass + ' ' + params.paginationVisibleClass;\n            }\n        }\n    };\n    _this.calcVisibleSlides = function (position) {\n        var visibleSlides = [];\n        var _slideLeft = 0, _slideSize = 0, _slideRight = 0;\n        if (isH && _this.wrapperLeft > 0) position = position + _this.wrapperLeft;\n        if (!isH && _this.wrapperTop > 0) position = position + _this.wrapperTop;\n\n        for (var i = 0; i < _this.slides.length; i++) {\n            _slideLeft += _slideSize;\n            if (params.slidesPerView === 'auto')\n                _slideSize  = isH ? _this.h.getWidth(_this.slides[i], true, params.roundLengths) : _this.h.getHeight(_this.slides[i], true, params.roundLengths);\n            else _slideSize = slideSize;\n\n            _slideRight = _slideLeft + _slideSize;\n            var isVisibile = false;\n            if (params.visibilityFullFit) {\n                if (_slideLeft >= -position && _slideRight <= -position + containerSize) isVisibile = true;\n                if (_slideLeft <= -position && _slideRight >= -position + containerSize) isVisibile = true;\n            }\n            else {\n                if (_slideRight > -position && _slideRight <= ((-position + containerSize))) isVisibile = true;\n                if (_slideLeft >= -position && _slideLeft < ((-position + containerSize))) isVisibile = true;\n                if (_slideLeft < -position && _slideRight > ((-position + containerSize))) isVisibile = true;\n            }\n\n            if (isVisibile) visibleSlides.push(_this.slides[i]);\n\n        }\n        if (visibleSlides.length === 0) visibleSlides = [_this.slides[_this.activeIndex]];\n\n        _this.visibleSlides = visibleSlides;\n    };\n\n    /*==========================================\n        Autoplay\n    ============================================*/\n    var autoplayTimeoutId, autoplayIntervalId;\n    _this.startAutoplay = function () {\n        if (_this.support.transitions) {\n            if (typeof autoplayTimeoutId !== 'undefined') return false;\n            if (!params.autoplay) return;\n            _this.callPlugins('onAutoplayStart');\n            if (params.onAutoplayStart) _this.fireCallback(params.onAutoplayStart, _this);\n            autoplay();\n        }\n        else {\n            if (typeof autoplayIntervalId !== 'undefined') return false;\n            if (!params.autoplay) return;\n            _this.callPlugins('onAutoplayStart');\n            if (params.onAutoplayStart) _this.fireCallback(params.onAutoplayStart, _this);\n            autoplayIntervalId = setInterval(function () {\n                if (params.loop) {\n                    _this.fixLoop();\n                    _this.swipeNext(true, true);\n                }\n                else if (!_this.swipeNext(true, true)) {\n                    if (!params.autoplayStopOnLast) _this.swipeTo(0);\n                    else {\n                        clearInterval(autoplayIntervalId);\n                        autoplayIntervalId = undefined;\n                    }\n                }\n            }, params.autoplay);\n        }\n    };\n    _this.stopAutoplay = function (internal) {\n        if (_this.support.transitions) {\n            if (!autoplayTimeoutId) return;\n            if (autoplayTimeoutId) clearTimeout(autoplayTimeoutId);\n            autoplayTimeoutId = undefined;\n            if (internal && !params.autoplayDisableOnInteraction) {\n                _this.wrapperTransitionEnd(function () {\n                    autoplay();\n                });\n            }\n            _this.callPlugins('onAutoplayStop');\n            if (params.onAutoplayStop) _this.fireCallback(params.onAutoplayStop, _this);\n        }\n        else {\n            if (autoplayIntervalId) clearInterval(autoplayIntervalId);\n            autoplayIntervalId = undefined;\n            _this.callPlugins('onAutoplayStop');\n            if (params.onAutoplayStop) _this.fireCallback(params.onAutoplayStop, _this);\n        }\n    };\n    function autoplay() {\n        autoplayTimeoutId = setTimeout(function () {\n            if (params.loop) {\n                _this.fixLoop();\n                _this.swipeNext(true, true);\n            }\n            else if (!_this.swipeNext(true, true)) {\n                if (!params.autoplayStopOnLast) _this.swipeTo(0);\n                else {\n                    clearTimeout(autoplayTimeoutId);\n                    autoplayTimeoutId = undefined;\n                }\n            }\n            _this.wrapperTransitionEnd(function () {\n                if (typeof autoplayTimeoutId !== 'undefined') autoplay();\n            });\n        }, params.autoplay);\n    }\n    /*==================================================\n        Loop\n    ====================================================*/\n    _this.loopCreated = false;\n    _this.removeLoopedSlides = function () {\n        if (_this.loopCreated) {\n            for (var i = 0; i < _this.slides.length; i++) {\n                if (_this.slides[i].getData('looped') === true) _this.wrapper.removeChild(_this.slides[i]);\n            }\n        }\n    };\n\n    _this.createLoop = function () {\n        if (_this.slides.length === 0) return;\n        if (params.slidesPerView === 'auto') {\n            _this.loopedSlides = params.loopedSlides || 1;\n        }\n        else {\n            _this.loopedSlides = Math.floor(params.slidesPerView) + params.loopAdditionalSlides;\n        }\n\n        if (_this.loopedSlides > _this.slides.length) {\n            _this.loopedSlides = _this.slides.length;\n        }\n\n        var slideFirstHTML = '',\n            slideLastHTML = '',\n            i;\n        var slidesSetFullHTML = '';\n        /**\n                loopedSlides is too large if loopAdditionalSlides are set.\n                Need to divide the slides by maximum number of slides existing.\n\n                @author        Tomaz Lovrec <tomaz.lovrec@blanc-noir.at>\n        */\n        var numSlides = _this.slides.length;\n        var fullSlideSets = Math.floor(_this.loopedSlides / numSlides);\n        var remainderSlides = _this.loopedSlides % numSlides;\n        // assemble full sets of slides\n        for (i = 0; i < (fullSlideSets * numSlides); i++) {\n            var j = i;\n            if (i >= numSlides) {\n                var over = Math.floor(i / numSlides);\n                j = i - (numSlides * over);\n            }\n            slidesSetFullHTML += _this.slides[j].outerHTML;\n        }\n        // assemble remainder slides\n        // assemble remainder appended to existing slides\n        for (i = 0; i < remainderSlides;i++) {\n            slideLastHTML += addClassToHtmlString(params.slideDuplicateClass, _this.slides[i].outerHTML);\n        }\n        // assemble slides that get preppended to existing slides\n        for (i = numSlides - remainderSlides; i < numSlides;i++) {\n            slideFirstHTML += addClassToHtmlString(params.slideDuplicateClass, _this.slides[i].outerHTML);\n        }\n        // assemble all slides\n        var slides = slideFirstHTML + slidesSetFullHTML + wrapper.innerHTML + slidesSetFullHTML + slideLastHTML;\n        // set the slides\n        wrapper.innerHTML = slides;\n\n        _this.loopCreated = true;\n        _this.calcSlides();\n\n        //Update Looped Slides with special class\n        for (i = 0; i < _this.slides.length; i++) {\n            if (i < _this.loopedSlides || i >= _this.slides.length - _this.loopedSlides) _this.slides[i].setData('looped', true);\n        }\n        _this.callPlugins('onCreateLoop');\n\n    };\n\n    _this.fixLoop = function () {\n        var newIndex;\n        //Fix For Negative Oversliding\n        if (_this.activeIndex < _this.loopedSlides) {\n            newIndex = _this.slides.length - _this.loopedSlides * 3 + _this.activeIndex;\n            _this.swipeTo(newIndex, 0, false);\n        }\n        //Fix For Positive Oversliding\n        else if ((params.slidesPerView === 'auto' && _this.activeIndex >= _this.loopedSlides * 2) || (_this.activeIndex > _this.slides.length - params.slidesPerView * 2)) {\n            newIndex = -_this.slides.length + _this.activeIndex + _this.loopedSlides;\n            _this.swipeTo(newIndex, 0, false);\n        }\n    };\n\n    /*==================================================\n        Slides Loader\n    ====================================================*/\n    _this.loadSlides = function () {\n        var slidesHTML = '';\n        _this.activeLoaderIndex = 0;\n        var slides = params.loader.slides;\n        var slidesToLoad = params.loader.loadAllSlides ? slides.length : params.slidesPerView * (1 + params.loader.surroundGroups);\n        for (var i = 0; i < slidesToLoad; i++) {\n            if (params.loader.slidesHTMLType === 'outer') slidesHTML += slides[i];\n            else {\n                slidesHTML += '<' + params.slideElement + ' class=\"' + params.slideClass + '\" data-swiperindex=\"' + i + '\">' + slides[i] + '</' + params.slideElement + '>';\n            }\n        }\n        _this.wrapper.innerHTML = slidesHTML;\n        _this.calcSlides(true);\n        //Add permanent transitionEnd callback\n        if (!params.loader.loadAllSlides) {\n            _this.wrapperTransitionEnd(_this.reloadSlides, true);\n        }\n    };\n\n    _this.reloadSlides = function () {\n        var slides = params.loader.slides;\n        var newActiveIndex = parseInt(_this.activeSlide().data('swiperindex'), 10);\n        if (newActiveIndex < 0 || newActiveIndex > slides.length - 1) return; //<-- Exit\n        _this.activeLoaderIndex = newActiveIndex;\n        var firstIndex = Math.max(0, newActiveIndex - params.slidesPerView * params.loader.surroundGroups);\n        var lastIndex = Math.min(newActiveIndex + params.slidesPerView * (1 + params.loader.surroundGroups) - 1, slides.length - 1);\n        //Update Transforms\n        if (newActiveIndex > 0) {\n            var newTransform = -slideSize * (newActiveIndex - firstIndex);\n            _this.setWrapperTranslate(newTransform);\n            _this.setWrapperTransition(0);\n        }\n        var i; // loop index\n        //New Slides\n        if (params.loader.logic === 'reload') {\n            _this.wrapper.innerHTML = '';\n            var slidesHTML = '';\n            for (i = firstIndex; i <= lastIndex; i++) {\n                slidesHTML += params.loader.slidesHTMLType === 'outer' ? slides[i] : '<' + params.slideElement + ' class=\"' + params.slideClass + '\" data-swiperindex=\"' + i + '\">' + slides[i] + '</' + params.slideElement + '>';\n            }\n            _this.wrapper.innerHTML = slidesHTML;\n        }\n        else {\n            var minExistIndex = 1000;\n            var maxExistIndex = 0;\n\n            for (i = 0; i < _this.slides.length; i++) {\n                var index = _this.slides[i].data('swiperindex');\n                if (index < firstIndex || index > lastIndex) {\n                    _this.wrapper.removeChild(_this.slides[i]);\n                }\n                else {\n                    minExistIndex = Math.min(index, minExistIndex);\n                    maxExistIndex = Math.max(index, maxExistIndex);\n                }\n            }\n            for (i = firstIndex; i <= lastIndex; i++) {\n                var newSlide;\n                if (i < minExistIndex) {\n                    newSlide = document.createElement(params.slideElement);\n                    newSlide.className = params.slideClass;\n                    newSlide.setAttribute('data-swiperindex', i);\n                    newSlide.innerHTML = slides[i];\n                    _this.wrapper.insertBefore(newSlide, _this.wrapper.firstChild);\n                }\n                if (i > maxExistIndex) {\n                    newSlide = document.createElement(params.slideElement);\n                    newSlide.className = params.slideClass;\n                    newSlide.setAttribute('data-swiperindex', i);\n                    newSlide.innerHTML = slides[i];\n                    _this.wrapper.appendChild(newSlide);\n                }\n            }\n        }\n        //reInit\n        _this.reInit(true);\n    };\n\n    /*==================================================\n        Make Swiper\n    ====================================================*/\n    function makeSwiper() {\n        _this.calcSlides();\n        if (params.loader.slides.length > 0 && _this.slides.length === 0) {\n            _this.loadSlides();\n        }\n        if (params.loop) {\n            _this.createLoop();\n        }\n        _this.init();\n        initEvents();\n        if (params.pagination) {\n            _this.createPagination(true);\n        }\n\n        if (params.loop || params.initialSlide > 0) {\n            _this.swipeTo(params.initialSlide, 0, false);\n        }\n        else {\n            _this.updateActiveSlide(0);\n        }\n        if (params.autoplay) {\n            _this.startAutoplay();\n        }\n        /**\n         * Set center slide index.\n         *\n         * @author        Tomaz Lovrec <tomaz.lovrec@gmail.com>\n         */\n        _this.centerIndex = _this.activeIndex;\n\n        // Callbacks\n        if (params.onSwiperCreated) _this.fireCallback(params.onSwiperCreated, _this);\n        _this.callPlugins('onSwiperCreated');\n    }\n\n    makeSwiper();\n};\n\nSwiper.prototype = {\n    plugins : {},\n\n    /*==================================================\n        Wrapper Operations\n    ====================================================*/\n    wrapperTransitionEnd : function (callback, permanent) {\n        'use strict';\n        var a = this,\n            el = a.wrapper,\n            events = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'],\n            i;\n\n        function fireCallBack(e) {\n            if (e.target !== el) return;\n            callback(a);\n            if (a.params.queueEndCallbacks) a._queueEndCallbacks = false;\n            if (!permanent) {\n                for (i = 0; i < events.length; i++) {\n                    a.h.removeEventListener(el, events[i], fireCallBack);\n                }\n            }\n        }\n\n        if (callback) {\n            for (i = 0; i < events.length; i++) {\n                a.h.addEventListener(el, events[i], fireCallBack);\n            }\n        }\n    },\n\n    getWrapperTranslate : function (axis) {\n        'use strict';\n        var el = this.wrapper,\n            matrix, curTransform, curStyle, transformMatrix;\n\n        // automatic axis detection\n        if (typeof axis === 'undefined') {\n            axis = this.params.mode === 'horizontal' ? 'x' : 'y';\n        }\n\n        if (this.support.transforms && this.params.useCSS3Transforms) {\n            curStyle = window.getComputedStyle(el, null);\n            if (window.WebKitCSSMatrix) {\n                // Some old versions of Webkit choke when 'none' is passed; pass\n                // empty string instead in this case\n                transformMatrix = new WebKitCSSMatrix(curStyle.webkitTransform === 'none' ? '' : curStyle.webkitTransform);\n            }\n            else {\n                transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform  || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n                matrix = transformMatrix.toString().split(',');\n            }\n\n            if (axis === 'x') {\n                //Latest Chrome and webkits Fix\n                if (window.WebKitCSSMatrix)\n                    curTransform = transformMatrix.m41;\n                //Crazy IE10 Matrix\n                else if (matrix.length === 16)\n                    curTransform = parseFloat(matrix[12]);\n                //Normal Browsers\n                else\n                    curTransform = parseFloat(matrix[4]);\n            }\n            if (axis === 'y') {\n                //Latest Chrome and webkits Fix\n                if (window.WebKitCSSMatrix)\n                    curTransform = transformMatrix.m42;\n                //Crazy IE10 Matrix\n                else if (matrix.length === 16)\n                    curTransform = parseFloat(matrix[13]);\n                //Normal Browsers\n                else\n                    curTransform = parseFloat(matrix[5]);\n            }\n        }\n        else {\n            if (axis === 'x') curTransform = parseFloat(el.style.left, 10) || 0;\n            if (axis === 'y') curTransform = parseFloat(el.style.top, 10) || 0;\n        }\n        return curTransform || 0;\n    },\n\n    setWrapperTranslate : function (x, y, z) {\n        'use strict';\n        var es = this.wrapper.style,\n            coords = {x: 0, y: 0, z: 0},\n            translate;\n\n        // passed all coordinates\n        if (arguments.length === 3) {\n            coords.x = x;\n            coords.y = y;\n            coords.z = z;\n        }\n\n        // passed one coordinate and optional axis\n        else {\n            if (typeof y === 'undefined') {\n                y = this.params.mode === 'horizontal' ? 'x' : 'y';\n            }\n            coords[y] = x;\n        }\n\n        if (this.support.transforms && this.params.useCSS3Transforms) {\n            translate = this.support.transforms3d ? 'translate3d(' + coords.x + 'px, ' + coords.y + 'px, ' + coords.z + 'px)' : 'translate(' + coords.x + 'px, ' + coords.y + 'px)';\n            es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = translate;\n        }\n        else {\n            es.left = coords.x + 'px';\n            es.top  = coords.y + 'px';\n        }\n        this.callPlugins('onSetWrapperTransform', coords);\n        if (this.params.onSetWrapperTransform) this.fireCallback(this.params.onSetWrapperTransform, this, coords);\n    },\n\n    setWrapperTransition : function (duration) {\n        'use strict';\n        var es = this.wrapper.style;\n        es.webkitTransitionDuration = es.MsTransitionDuration = es.msTransitionDuration = es.MozTransitionDuration = es.OTransitionDuration = es.transitionDuration = (duration / 1000) + 's';\n        this.callPlugins('onSetWrapperTransition', {duration: duration});\n        if (this.params.onSetWrapperTransition) this.fireCallback(this.params.onSetWrapperTransition, this, duration);\n\n    },\n\n    /*==================================================\n        Helpers\n    ====================================================*/\n    h : {\n        getWidth: function (el, outer, round) {\n            'use strict';\n            var width = window.getComputedStyle(el, null).getPropertyValue('width');\n            var returnWidth = parseFloat(width);\n            //IE Fixes\n            if (isNaN(returnWidth) || width.indexOf('%') > 0 || returnWidth < 0) {\n                returnWidth = el.offsetWidth - parseFloat(window.getComputedStyle(el, null).getPropertyValue('padding-left')) - parseFloat(window.getComputedStyle(el, null).getPropertyValue('padding-right'));\n            }\n            if (outer) returnWidth += parseFloat(window.getComputedStyle(el, null).getPropertyValue('padding-left')) + parseFloat(window.getComputedStyle(el, null).getPropertyValue('padding-right'));\n            if (round) return Math.ceil(returnWidth);\n            else return returnWidth;\n        },\n        getHeight: function (el, outer, round) {\n            'use strict';\n            if (outer) return el.offsetHeight;\n\n            var height = window.getComputedStyle(el, null).getPropertyValue('height');\n            var returnHeight = parseFloat(height);\n            //IE Fixes\n            if (isNaN(returnHeight) || height.indexOf('%') > 0 || returnHeight < 0) {\n                returnHeight = el.offsetHeight - parseFloat(window.getComputedStyle(el, null).getPropertyValue('padding-top')) - parseFloat(window.getComputedStyle(el, null).getPropertyValue('padding-bottom'));\n            }\n            if (outer) returnHeight += parseFloat(window.getComputedStyle(el, null).getPropertyValue('padding-top')) + parseFloat(window.getComputedStyle(el, null).getPropertyValue('padding-bottom'));\n            if (round) return Math.ceil(returnHeight);\n            else return returnHeight;\n        },\n        getOffset: function (el) {\n            'use strict';\n            var box = el.getBoundingClientRect();\n            var body = document.body;\n            var clientTop  = el.clientTop  || body.clientTop  || 0;\n            var clientLeft = el.clientLeft || body.clientLeft || 0;\n            var scrollTop  = window.pageYOffset || el.scrollTop;\n            var scrollLeft = window.pageXOffset || el.scrollLeft;\n            if (document.documentElement && !window.pageYOffset) {\n                //IE7-8\n                scrollTop  = document.documentElement.scrollTop;\n                scrollLeft = document.documentElement.scrollLeft;\n            }\n            return {\n                top: box.top  + scrollTop  - clientTop,\n                left: box.left + scrollLeft - clientLeft\n            };\n        },\n        windowWidth : function () {\n            'use strict';\n            if (window.innerWidth) return window.innerWidth;\n            else if (document.documentElement && document.documentElement.clientWidth) return document.documentElement.clientWidth;\n        },\n        windowHeight : function () {\n            'use strict';\n            if (window.innerHeight) return window.innerHeight;\n            else if (document.documentElement && document.documentElement.clientHeight) return document.documentElement.clientHeight;\n        },\n        windowScroll : function () {\n            'use strict';\n            if (typeof pageYOffset !== 'undefined') {\n                return {\n                    left: window.pageXOffset,\n                    top: window.pageYOffset\n                };\n            }\n            else if (document.documentElement) {\n                return {\n                    left: document.documentElement.scrollLeft,\n                    top: document.documentElement.scrollTop\n                };\n            }\n        },\n\n        addEventListener : function (el, event, listener, useCapture) {\n            'use strict';\n            if (typeof useCapture === 'undefined') {\n                useCapture = false;\n            }\n\n            if (el.addEventListener) {\n                el.addEventListener(event, listener, useCapture);\n            }\n            else if (el.attachEvent) {\n                el.attachEvent('on' + event, listener);\n            }\n        },\n\n        removeEventListener : function (el, event, listener, useCapture) {\n            'use strict';\n            if (typeof useCapture === 'undefined') {\n                useCapture = false;\n            }\n\n            if (el.removeEventListener) {\n                el.removeEventListener(event, listener, useCapture);\n            }\n            else if (el.detachEvent) {\n                el.detachEvent('on' + event, listener);\n            }\n        }\n    },\n    setTransform : function (el, transform) {\n        'use strict';\n        var es = el.style;\n        es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = transform;\n    },\n    setTranslate : function (el, translate) {\n        'use strict';\n        var es = el.style;\n        var pos = {\n            x : translate.x || 0,\n            y : translate.y || 0,\n            z : translate.z || 0\n        };\n        var transformString = this.support.transforms3d ? 'translate3d(' + (pos.x) + 'px,' + (pos.y) + 'px,' + (pos.z) + 'px)' : 'translate(' + (pos.x) + 'px,' + (pos.y) + 'px)';\n        es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = transformString;\n        if (!this.support.transforms) {\n            es.left = pos.x + 'px';\n            es.top = pos.y + 'px';\n        }\n    },\n    setTransition : function (el, duration) {\n        'use strict';\n        var es = el.style;\n        es.webkitTransitionDuration = es.MsTransitionDuration = es.msTransitionDuration = es.MozTransitionDuration = es.OTransitionDuration = es.transitionDuration = duration + 'ms';\n    },\n    /*==================================================\n        Feature Detection\n    ====================================================*/\n    support: {\n\n        touch : (window.Modernizr && Modernizr.touch === true) || (function () {\n            'use strict';\n            return !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch);\n        })(),\n\n        transforms3d : (window.Modernizr && Modernizr.csstransforms3d === true) || (function () {\n            'use strict';\n            var div = document.createElement('div').style;\n            return ('webkitPerspective' in div || 'MozPerspective' in div || 'OPerspective' in div || 'MsPerspective' in div || 'perspective' in div);\n        })(),\n\n        transforms : (window.Modernizr && Modernizr.csstransforms === true) || (function () {\n            'use strict';\n            var div = document.createElement('div').style;\n            return ('transform' in div || 'WebkitTransform' in div || 'MozTransform' in div || 'msTransform' in div || 'MsTransform' in div || 'OTransform' in div);\n        })(),\n\n        transitions : (window.Modernizr && Modernizr.csstransitions === true) || (function () {\n            'use strict';\n            var div = document.createElement('div').style;\n            return ('transition' in div || 'WebkitTransition' in div || 'MozTransition' in div || 'msTransition' in div || 'MsTransition' in div || 'OTransition' in div);\n        })(),\n\n        classList : (function () {\n            'use strict';\n            var div = document.createElement('div');\n            return 'classList' in div;\n        })()\n    },\n\n    browser : {\n\n        ie8 : (function () {\n            'use strict';\n            var rv = -1; // Return value assumes failure.\n            if (navigator.appName === 'Microsoft Internet Explorer') {\n                var ua = navigator.userAgent;\n                var re = new RegExp(/MSIE ([0-9]{1,}[\\.0-9]{0,})/);\n                if (re.exec(ua) !== null)\n                    rv = parseFloat(RegExp.$1);\n            }\n            return rv !== -1 && rv < 9;\n        })(),\n\n        ie10 : window.navigator.msPointerEnabled,\n        ie11 : window.navigator.pointerEnabled\n    }\n};\n\n/*=========================\n  jQuery & Zepto Plugins\n  ===========================*/\nif (window.jQuery || window.Zepto) {\n    (function ($) {\n        'use strict';\n        $.fn.swiper = function (params) {\n            var firstInstance;\n            this.each(function (i) {\n                var that = $(this);\n                var s = new Swiper(that[0], params);\n                if (!i) firstInstance = s;\n                that.data('swiper', s);\n            });\n            return firstInstance;\n        };\n    })(window.jQuery || window.Zepto);\n}\n\n// CommonJS support\nif (typeof(module) !== 'undefined') {\n    module.exports = Swiper;\n\n// requirejs support\n} else if (typeof define === 'function' && define.amd) {\n    define([], function () {\n        'use strict';\n        return Swiper;\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/lib/idangerous.swiper.js",";(function () {\n\t'use strict';\n\n\t/**\n\t * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.\n\t *\n\t * @codingstandard ftlabs-jsv2\n\t * @copyright The Financial Times Limited [All Rights Reserved]\n\t * @license MIT License (see LICENSE.txt)\n\t */\n\n\t/*jslint browser:true, node:true*/\n\t/*global define, Event, Node*/\n\n\n\t/**\n\t * Instantiate fast-clicking listeners on the specified layer.\n\t *\n\t * @constructor\n\t * @param {Element} layer The layer to listen on\n\t * @param {Object} [options={}] The options to override the defaults\n\t */\n\tfunction FastClick(layer, options) {\n\t\tvar oldOnClick;\n\n\t\toptions = options || {};\n\n\t\t/**\n\t\t * Whether a click is currently being tracked.\n\t\t *\n\t\t * @type boolean\n\t\t */\n\t\tthis.trackingClick = false;\n\n\n\t\t/**\n\t\t * Timestamp for when click tracking started.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.trackingClickStart = 0;\n\n\n\t\t/**\n\t\t * The element being tracked for a click.\n\t\t *\n\t\t * @type EventTarget\n\t\t */\n\t\tthis.targetElement = null;\n\n\n\t\t/**\n\t\t * X-coordinate of touch start event.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchStartX = 0;\n\n\n\t\t/**\n\t\t * Y-coordinate of touch start event.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchStartY = 0;\n\n\n\t\t/**\n\t\t * ID of the last touch, retrieved from Touch.identifier.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.lastTouchIdentifier = 0;\n\n\n\t\t/**\n\t\t * Touchmove boundary, beyond which a click will be cancelled.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchBoundary = options.touchBoundary || 10;\n\n\n\t\t/**\n\t\t * The FastClick layer.\n\t\t *\n\t\t * @type Element\n\t\t */\n\t\tthis.layer = layer;\n\n\t\t/**\n\t\t * The minimum time between tap(touchstart and touchend) events\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.tapDelay = options.tapDelay || 200;\n\n\t\t/**\n\t\t * The maximum time for a tap\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.tapTimeout = options.tapTimeout || 700;\n\n\t\tif (FastClick.notNeeded(layer)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Some old versions of Android don't have Function.prototype.bind\n\t\tfunction bind(method, context) {\n\t\t\treturn function() { return method.apply(context, arguments); };\n\t\t}\n\n\n\t\tvar methods = ['onMouse', 'onClick', 'onTouchStart', 'onTouchMove', 'onTouchEnd', 'onTouchCancel'];\n\t\tvar context = this;\n\t\tfor (var i = 0, l = methods.length; i < l; i++) {\n\t\t\tcontext[methods[i]] = bind(context[methods[i]], context);\n\t\t}\n\n\t\t// Set up event handlers as required\n\t\tif (deviceIsAndroid) {\n\t\t\tlayer.addEventListener('mouseover', this.onMouse, true);\n\t\t\tlayer.addEventListener('mousedown', this.onMouse, true);\n\t\t\tlayer.addEventListener('mouseup', this.onMouse, true);\n\t\t}\n\n\t\tlayer.addEventListener('click', this.onClick, true);\n\t\tlayer.addEventListener('touchstart', this.onTouchStart, false);\n\t\tlayer.addEventListener('touchmove', this.onTouchMove, false);\n\t\tlayer.addEventListener('touchend', this.onTouchEnd, false);\n\t\tlayer.addEventListener('touchcancel', this.onTouchCancel, false);\n\n\t\t// Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t// which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick\n\t\t// layer when they are cancelled.\n\t\tif (!Event.prototype.stopImmediatePropagation) {\n\t\t\tlayer.removeEventListener = function(type, callback, capture) {\n\t\t\t\tvar rmv = Node.prototype.removeEventListener;\n\t\t\t\tif (type === 'click') {\n\t\t\t\t\trmv.call(layer, type, callback.hijacked || callback, capture);\n\t\t\t\t} else {\n\t\t\t\t\trmv.call(layer, type, callback, capture);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tlayer.addEventListener = function(type, callback, capture) {\n\t\t\t\tvar adv = Node.prototype.addEventListener;\n\t\t\t\tif (type === 'click') {\n\t\t\t\t\tadv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {\n\t\t\t\t\t\tif (!event.propagationStopped) {\n\t\t\t\t\t\t\tcallback(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}), capture);\n\t\t\t\t} else {\n\t\t\t\t\tadv.call(layer, type, callback, capture);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// If a handler is already declared in the element's onclick attribute, it will be fired before\n\t\t// FastClick's onClick handler. Fix this by pulling out the user-defined handler function and\n\t\t// adding it as listener.\n\t\tif (typeof layer.onclick === 'function') {\n\n\t\t\t// Android browser on at least 3.2 requires a new reference to the function in layer.onclick\n\t\t\t// - the old one won't work if passed to addEventListener directly.\n\t\t\toldOnClick = layer.onclick;\n\t\t\tlayer.addEventListener('click', function(event) {\n\t\t\t\toldOnClick(event);\n\t\t\t}, false);\n\t\t\tlayer.onclick = null;\n\t\t}\n\t}\n\n\t/**\n\t* Windows Phone 8.1 fakes user agent string to look like Android and iPhone.\n\t*\n\t* @type boolean\n\t*/\n\tvar deviceIsWindowsPhone = navigator.userAgent.indexOf(\"Windows Phone\") >= 0;\n\n\t/**\n\t * Android requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsAndroid = navigator.userAgent.indexOf('Android') > 0 && !deviceIsWindowsPhone;\n\n\n\t/**\n\t * iOS requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent) && !deviceIsWindowsPhone;\n\n\n\t/**\n\t * iOS 4 requires an exception for select elements.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOS4 = deviceIsIOS && (/OS 4_\\d(_\\d)?/).test(navigator.userAgent);\n\n\n\t/**\n\t * iOS 6.0-7.* requires the target element to be manually derived\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOSWithBadTarget = deviceIsIOS && (/OS [6-7]_\\d/).test(navigator.userAgent);\n\n\t/**\n\t * BlackBerry requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsBlackBerry10 = navigator.userAgent.indexOf('BB10') > 0;\n\n\t/**\n\t * Determine whether a given element requires a native click.\n\t *\n\t * @param {EventTarget|Element} target Target DOM element\n\t * @returns {boolean} Returns true if the element needs a native click\n\t */\n\tFastClick.prototype.needsClick = function(target) {\n\t\tswitch (target.nodeName.toLowerCase()) {\n\n\t\t// Don't send a synthetic click to disabled inputs (issue #62)\n\t\tcase 'button':\n\t\tcase 'select':\n\t\tcase 'textarea':\n\t\t\tif (target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'input':\n\n\t\t\t// File inputs need real clicks on iOS 6 due to a browser bug (issue #68)\n\t\t\tif ((deviceIsIOS && target.type === 'file') || target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'label':\n\t\tcase 'iframe': // iOS8 homescreen apps can prevent events bubbling into frames\n\t\tcase 'video':\n\t\t\treturn true;\n\t\t}\n\n\t\treturn (/\\bneedsclick\\b/).test(target.className);\n\t};\n\n\n\t/**\n\t * Determine whether a given element requires a call to focus to simulate click into element.\n\t *\n\t * @param {EventTarget|Element} target Target DOM element\n\t * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.\n\t */\n\tFastClick.prototype.needsFocus = function(target) {\n\t\tswitch (target.nodeName.toLowerCase()) {\n\t\tcase 'textarea':\n\t\t\treturn true;\n\t\tcase 'select':\n\t\t\treturn !deviceIsAndroid;\n\t\tcase 'input':\n\t\t\tswitch (target.type) {\n\t\t\tcase 'button':\n\t\t\tcase 'checkbox':\n\t\t\tcase 'file':\n\t\t\tcase 'image':\n\t\t\tcase 'radio':\n\t\t\tcase 'submit':\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// No point in attempting to focus disabled inputs\n\t\t\treturn !target.disabled && !target.readOnly;\n\t\tdefault:\n\t\t\treturn (/\\bneedsfocus\\b/).test(target.className);\n\t\t}\n\t};\n\n\n\t/**\n\t * Send a click event to the specified element.\n\t *\n\t * @param {EventTarget|Element} targetElement\n\t * @param {Event} event\n\t */\n\tFastClick.prototype.sendClick = function(targetElement, event) {\n\t\tvar clickEvent, touch;\n\n\t\t// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)\n\t\tif (document.activeElement && document.activeElement !== targetElement) {\n\t\t\tdocument.activeElement.blur();\n\t\t}\n\n\t\ttouch = event.changedTouches[0];\n\n\t\t// Synthesise a click event, with an extra attribute so it can be tracked\n\t\tclickEvent = document.createEvent('MouseEvents');\n\t\tclickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\t\tclickEvent.forwardedTouchEvent = true;\n\t\ttargetElement.dispatchEvent(clickEvent);\n\t};\n\n\tFastClick.prototype.determineEventType = function(targetElement) {\n\n\t\t//Issue #159: Android Chrome Select Box does not open with a synthetic click event\n\t\tif (deviceIsAndroid && targetElement.tagName.toLowerCase() === 'select') {\n\t\t\treturn 'mousedown';\n\t\t}\n\n\t\treturn 'click';\n\t};\n\n\n\t/**\n\t * @param {EventTarget|Element} targetElement\n\t */\n\tFastClick.prototype.focus = function(targetElement) {\n\t\tvar length;\n\n\t\t// Issue #160: on iOS 7, some input elements (e.g. date datetime month) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.\n\t\tif (deviceIsIOS && targetElement.setSelectionRange && targetElement.type.indexOf('date') !== 0 && targetElement.type !== 'time' && targetElement.type !== 'month') {\n\t\t\tlength = targetElement.value.length;\n\t\t\ttargetElement.setSelectionRange(length, length);\n\t\t} else {\n\t\t\ttargetElement.focus();\n\t\t}\n\t};\n\n\n\t/**\n\t * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.\n\t *\n\t * @param {EventTarget|Element} targetElement\n\t */\n\tFastClick.prototype.updateScrollParent = function(targetElement) {\n\t\tvar scrollParent, parentElement;\n\n\t\tscrollParent = targetElement.fastClickScrollParent;\n\n\t\t// Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the\n\t\t// target element was moved to another parent.\n\t\tif (!scrollParent || !scrollParent.contains(targetElement)) {\n\t\t\tparentElement = targetElement;\n\t\t\tdo {\n\t\t\t\tif (parentElement.scrollHeight > parentElement.offsetHeight) {\n\t\t\t\t\tscrollParent = parentElement;\n\t\t\t\t\ttargetElement.fastClickScrollParent = parentElement;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tparentElement = parentElement.parentElement;\n\t\t\t} while (parentElement);\n\t\t}\n\n\t\t// Always update the scroll top tracker if possible.\n\t\tif (scrollParent) {\n\t\t\tscrollParent.fastClickLastScrollTop = scrollParent.scrollTop;\n\t\t}\n\t};\n\n\n\t/**\n\t * @param {EventTarget} targetElement\n\t * @returns {Element|EventTarget}\n\t */\n\tFastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {\n\n\t\t// On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.\n\t\tif (eventTarget.nodeType === Node.TEXT_NODE) {\n\t\t\treturn eventTarget.parentNode;\n\t\t}\n\n\t\treturn eventTarget;\n\t};\n\n\n\t/**\n\t * On touch start, record the position and scroll offset.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchStart = function(event) {\n\t\tvar targetElement, touch, selection;\n\n\t\t// Ignore multiple touches, otherwise pinch-to-zoom is prevented if both fingers are on the FastClick element (issue #111).\n\t\tif (event.targetTouches.length > 1) {\n\t\t\treturn true;\n\t\t}\n\n\t\ttargetElement = this.getTargetElementFromEventTarget(event.target);\n\t\ttouch = event.targetTouches[0];\n\n\t\tif (deviceIsIOS) {\n\n\t\t\t// Only trusted events will deselect text on iOS (issue #49)\n\t\t\tselection = window.getSelection();\n\t\t\tif (selection.rangeCount && !selection.isCollapsed) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (!deviceIsIOS4) {\n\n\t\t\t\t// Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):\n\t\t\t\t// when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched\n\t\t\t\t// with the same identifier as the touch event that previously triggered the click that triggered the alert.\n\t\t\t\t// Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an\n\t\t\t\t// immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.\n\t\t\t\t// Issue 120: touch.identifier is 0 when Chrome dev tools 'Emulate touch events' is set with an iOS device UA string,\n\t\t\t\t// which causes all touch events to be ignored. As this block only applies to iOS, and iOS identifiers are always long,\n\t\t\t\t// random integers, it's safe to to continue if the identifier is 0 here.\n\t\t\t\tif (touch.identifier && touch.identifier === this.lastTouchIdentifier) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tthis.lastTouchIdentifier = touch.identifier;\n\n\t\t\t\t// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:\n\t\t\t\t// 1) the user does a fling scroll on the scrollable layer\n\t\t\t\t// 2) the user stops the fling scroll with another tap\n\t\t\t\t// then the event.target of the last 'touchend' event will be the element that was under the user's finger\n\t\t\t\t// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check\n\t\t\t\t// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).\n\t\t\t\tthis.updateScrollParent(targetElement);\n\t\t\t}\n\t\t}\n\n\t\tthis.trackingClick = true;\n\t\tthis.trackingClickStart = event.timeStamp;\n\t\tthis.targetElement = targetElement;\n\n\t\tthis.touchStartX = touch.pageX;\n\t\tthis.touchStartY = touch.pageY;\n\n\t\t// Prevent phantom clicks on fast double-tap (issue #36)\n\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.touchHasMoved = function(event) {\n\t\tvar touch = event.changedTouches[0], boundary = this.touchBoundary;\n\n\t\tif (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * Update the last position.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchMove = function(event) {\n\t\tif (!this.trackingClick) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If the touch has moved, cancel the click tracking\n\t\tif (this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) {\n\t\t\tthis.trackingClick = false;\n\t\t\tthis.targetElement = null;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * Attempt to find the labelled control for the given label element.\n\t *\n\t * @param {EventTarget|HTMLLabelElement} labelElement\n\t * @returns {Element|null}\n\t */\n\tFastClick.prototype.findControl = function(labelElement) {\n\n\t\t// Fast path for newer browsers supporting the HTML5 control attribute\n\t\tif (labelElement.control !== undefined) {\n\t\t\treturn labelElement.control;\n\t\t}\n\n\t\t// All browsers under test that support touch events also support the HTML5 htmlFor attribute\n\t\tif (labelElement.htmlFor) {\n\t\t\treturn document.getElementById(labelElement.htmlFor);\n\t\t}\n\n\t\t// If no for attribute exists, attempt to retrieve the first labellable descendant element\n\t\t// the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label\n\t\treturn labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');\n\t};\n\n\n\t/**\n\t * On touch end, determine whether to send a click event at once.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchEnd = function(event) {\n\t\tvar forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;\n\n\t\tif (!this.trackingClick) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Prevent phantom clicks on fast double-tap (issue #36)\n\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\t\tthis.cancelNextClick = true;\n\t\t\treturn true;\n\t\t}\n\n\t\tif ((event.timeStamp - this.trackingClickStart) > this.tapTimeout) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Reset to prevent wrong click cancel on input (issue #156).\n\t\tthis.cancelNextClick = false;\n\n\t\tthis.lastClickTime = event.timeStamp;\n\n\t\ttrackingClickStart = this.trackingClickStart;\n\t\tthis.trackingClick = false;\n\t\tthis.trackingClickStart = 0;\n\n\t\t// On some iOS devices, the targetElement supplied with the event is invalid if the layer\n\t\t// is performing a transition or scroll, and has to be re-detected manually. Note that\n\t\t// for this to function correctly, it must be called *after* the event target is checked!\n\t\t// See issue #57; also filed as rdar://13048589 .\n\t\tif (deviceIsIOSWithBadTarget) {\n\t\t\ttouch = event.changedTouches[0];\n\n\t\t\t// In certain cases arguments of elementFromPoint can be negative, so prevent setting targetElement to null\n\t\t\ttargetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement;\n\t\t\ttargetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent;\n\t\t}\n\n\t\ttargetTagName = targetElement.tagName.toLowerCase();\n\t\tif (targetTagName === 'label') {\n\t\t\tforElement = this.findControl(targetElement);\n\t\t\tif (forElement) {\n\t\t\t\tthis.focus(targetElement);\n\t\t\t\tif (deviceIsAndroid) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\ttargetElement = forElement;\n\t\t\t}\n\t\t} else if (this.needsFocus(targetElement)) {\n\n\t\t\t// Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.\n\t\t\t// Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).\n\t\t\tif ((event.timeStamp - trackingClickStart) > 100 || (deviceIsIOS && window.top !== window && targetTagName === 'input')) {\n\t\t\t\tthis.targetElement = null;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.focus(targetElement);\n\t\t\tthis.sendClick(targetElement, event);\n\n\t\t\t// Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.\n\t\t\t// Also this breaks opening selects when VoiceOver is active on iOS6, iOS7 (and possibly others)\n\t\t\tif (!deviceIsIOS || targetTagName !== 'select') {\n\t\t\t\tthis.targetElement = null;\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif (deviceIsIOS && !deviceIsIOS4) {\n\n\t\t\t// Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled\n\t\t\t// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).\n\t\t\tscrollParent = targetElement.fastClickScrollParent;\n\t\t\tif (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Prevent the actual click from going though - unless the target node is marked as requiring\n\t\t// real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.\n\t\tif (!this.needsClick(targetElement)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendClick(targetElement, event);\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * On touch cancel, stop tracking the click.\n\t *\n\t * @returns {void}\n\t */\n\tFastClick.prototype.onTouchCancel = function() {\n\t\tthis.trackingClick = false;\n\t\tthis.targetElement = null;\n\t};\n\n\n\t/**\n\t * Determine mouse events which should be permitted.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onMouse = function(event) {\n\n\t\t// If a target element was never set (because a touch event was never fired) allow the event\n\t\tif (!this.targetElement) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (event.forwardedTouchEvent) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Programmatically generated events targeting a specific element should be permitted\n\t\tif (!event.cancelable) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Derive and check the target element to see whether the mouse event needs to be permitted;\n\t\t// unless explicitly enabled, prevent non-touch click events from triggering actions,\n\t\t// to prevent ghost/doubleclicks.\n\t\tif (!this.needsClick(this.targetElement) || this.cancelNextClick) {\n\n\t\t\t// Prevent any user-added listeners declared on FastClick element from being fired.\n\t\t\tif (event.stopImmediatePropagation) {\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t} else {\n\n\t\t\t\t// Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t\t\tevent.propagationStopped = true;\n\t\t\t}\n\n\t\t\t// Cancel the event\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the mouse event is permitted, return true for the action to go through.\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * On actual clicks, determine whether this is a touch-generated click, a click action occurring\n\t * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or\n\t * an actual click which should be permitted.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onClick = function(event) {\n\t\tvar permitted;\n\n\t\t// It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.\n\t\tif (this.trackingClick) {\n\t\t\tthis.targetElement = null;\n\t\t\tthis.trackingClick = false;\n\t\t\treturn true;\n\t\t}\n\n\t\t// Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.\n\t\tif (event.target.type === 'submit' && event.detail === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tpermitted = this.onMouse(event);\n\n\t\t// Only unset targetElement if the click is not permitted. This will ensure that the check for !targetElement in onMouse fails and the browser's click doesn't go through.\n\t\tif (!permitted) {\n\t\t\tthis.targetElement = null;\n\t\t}\n\n\t\t// If clicks are permitted, return true for the action to go through.\n\t\treturn permitted;\n\t};\n\n\n\t/**\n\t * Remove all FastClick's event listeners.\n\t *\n\t * @returns {void}\n\t */\n\tFastClick.prototype.destroy = function() {\n\t\tvar layer = this.layer;\n\n\t\tif (deviceIsAndroid) {\n\t\t\tlayer.removeEventListener('mouseover', this.onMouse, true);\n\t\t\tlayer.removeEventListener('mousedown', this.onMouse, true);\n\t\t\tlayer.removeEventListener('mouseup', this.onMouse, true);\n\t\t}\n\n\t\tlayer.removeEventListener('click', this.onClick, true);\n\t\tlayer.removeEventListener('touchstart', this.onTouchStart, false);\n\t\tlayer.removeEventListener('touchmove', this.onTouchMove, false);\n\t\tlayer.removeEventListener('touchend', this.onTouchEnd, false);\n\t\tlayer.removeEventListener('touchcancel', this.onTouchCancel, false);\n\t};\n\n\n\t/**\n\t * Check whether FastClick is needed.\n\t *\n\t * @param {Element} layer The layer to listen on\n\t */\n\tFastClick.notNeeded = function(layer) {\n\t\tvar metaViewport;\n\t\tvar chromeVersion;\n\t\tvar blackberryVersion;\n\t\tvar firefoxVersion;\n\n\t\t// Devices that don't support touch don't need FastClick\n\t\tif (typeof window.ontouchstart === 'undefined') {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Chrome version - zero for other browsers\n\t\tchromeVersion = +(/Chrome\\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];\n\n\t\tif (chromeVersion) {\n\n\t\t\tif (deviceIsAndroid) {\n\t\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\t\tif (metaViewport) {\n\t\t\t\t\t// Chrome on Android with user-scalable=\"no\" doesn't need FastClick (issue #89)\n\t\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// Chrome 32 and above with width=device-width or less don't need FastClick\n\t\t\t\t\tif (chromeVersion > 31 && document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Chrome desktop doesn't need FastClick (issue #15)\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tif (deviceIsBlackBerry10) {\n\t\t\tblackberryVersion = navigator.userAgent.match(/Version\\/([0-9]*)\\.([0-9]*)/);\n\n\t\t\t// BlackBerry 10.3+ does not require Fastclick library.\n\t\t\t// https://github.com/ftlabs/fastclick/issues/251\n\t\t\tif (blackberryVersion[1] >= 10 && blackberryVersion[2] >= 3) {\n\t\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\t\tif (metaViewport) {\n\t\t\t\t\t// user-scalable=no eliminates click delay.\n\t\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// width=device-width (or less than device-width) eliminates click delay.\n\t\t\t\t\tif (document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// IE10 with -ms-touch-action: none or manipulation, which disables double-tap-to-zoom (issue #97)\n\t\tif (layer.style.msTouchAction === 'none' || layer.style.touchAction === 'manipulation') {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Firefox version - zero for other browsers\n\t\tfirefoxVersion = +(/Firefox\\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];\n\n\t\tif (firefoxVersion >= 27) {\n\t\t\t// Firefox 27+ does not have tap delay if the content is not zoomable - https://bugzilla.mozilla.org/show_bug.cgi?id=922896\n\n\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\t\t\tif (metaViewport && (metaViewport.content.indexOf('user-scalable=no') !== -1 || document.documentElement.scrollWidth <= window.outerWidth)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// IE11: prefixed -ms-touch-action is no longer supported and it's recomended to use non-prefixed version\n\t\t// http://msdn.microsoft.com/en-us/library/windows/apps/Hh767313.aspx\n\t\tif (layer.style.touchAction === 'none' || layer.style.touchAction === 'manipulation') {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * Factory method for creating a FastClick object\n\t *\n\t * @param {Element} layer The layer to listen on\n\t * @param {Object} [options={}] The options to override the defaults\n\t */\n\tFastClick.attach = function(layer, options) {\n\t\treturn new FastClick(layer, options);\n\t};\n\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(function() {\n\t\t\treturn FastClick;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = FastClick.attach;\n\t\tmodule.exports.FastClick = FastClick;\n\t} else {\n\t\twindow.FastClick = FastClick;\n\t}\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/fastclick/lib/fastclick.js\n// module id = 1\n// module chunks = 1","// added here to avoid added they to main.js\n// if you know better way, please, talk to me. BR, Dmitry Turvotsov\n\nrequire('./lib/idangerous.swiper');\nrequire('fastclick');\n// require('jbone');\n\n\n\n// WEBPACK FOOTER //\n// ./js/common.js"],"sourceRoot":""}